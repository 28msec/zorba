Iterator tree for main query:
<FLWORIterator>
 <LetVariable name="auction" materialize="true">
  <FnDocIterator>
   <PromoteIterator type="[AtomicXQType XS_STRING]">
    <FnDataIterator>
     <CtxVariableIterator>
      <SingletonIterator value="xs:string(0x8089080:input-context)"/>
     </CtxVariableIterator>
    </FnDataIterator>
   </PromoteIterator>
  </FnDocIterator>
 </LetVariable>
 <ReturnClause>
  <FLWORIterator>
   <ForVariable name="p">
    <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,person)" typename="*" nill allowed="0">
     <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,people)" typename="*" nill allowed="0">
      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,site)" typename="*" nill allowed="0">
       <LetVarIterator varname="auction"/>
      </ChildAxisIterator>
     </ChildAxisIterator>
    </ChildAxisIterator>
   </ForVariable>
   <ReturnClause>
    <ElementIterator>
     <SingletonIterator value="xs:QName(,,item)"/>
     <AttributeIterator>
      <SingletonIterator value="xs:QName(,,person)"/>
      <EnclosedIterator attr_cont="true">
       <FnDataIterator>
        <ChildAxisIterator test kind="match_text_test" qname="*" typename="*" nill allowed="0">
         <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,name)" typename="*" nill allowed="0">
          <ForVarIterator varname="p"/>
         </ChildAxisIterator>
        </ChildAxisIterator>
       </FnDataIterator>
      </EnclosedIterator>
     </AttributeIterator>
     <ElementContentIterator>
      <EnclosedIterator attr_cont="false">
       <FnCountIterator>
        <FLWORIterator>
         <ForVariable name="t">
          <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,closed_auction)" typename="*" nill allowed="0">
           <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,closed_auctions)" typename="*" nill allowed="0">
            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,site)" typename="*" nill allowed="0">
             <LetVarIterator varname="auction"/>
            </ChildAxisIterator>
           </ChildAxisIterator>
          </ChildAxisIterator>
         </ForVariable>
         <WhereClause>
          <CompareIterator>
           <FnDataIterator>
            <AttributeAxisIterator test kind="match_name_test" qname="xs:QName(,,person)" typename="*" nill allowed="0">
             <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,buyer)" typename="*" nill allowed="0">
              <ForVarIterator varname="t"/>
             </ChildAxisIterator>
            </AttributeAxisIterator>
           </FnDataIterator>
           <FnDataIterator>
            <AttributeAxisIterator test kind="match_name_test" qname="xs:QName(,,id)" typename="*" nill allowed="0">
             <ForVarIterator varname="p"/>
            </AttributeAxisIterator>
           </FnDataIterator>
          </CompareIterator>
         </WhereClause>
         <ReturnClause>
          <ForVarIterator varname="t"/>
         </ReturnClause>
        </FLWORIterator>
       </FnCountIterator>
      </EnclosedIterator>
     </ElementContentIterator>
    </ElementIterator>
   </ReturnClause>
  </FLWORIterator>
 </ReturnClause>
</FLWORIterator>

