Iterator tree for main query:
<FLWORIterator>
 <LetVariable name="auction" materialize="true">
  <FnDocIterator>
   <PromoteIterator type="[AtomicXQType XS_STRING]">
    <FnDataIterator>
     <CtxVariableIterator>
      <SingletonIterator value="xs:string(input-context)"/>
     </CtxVariableIterator>
    </FnDataIterator>
   </PromoteIterator>
  </FnDocIterator>
 </LetVariable>
 <ReturnClause>
  <FLWORIterator>
   <ForVariable name="p">
    <NameTestIterator qname="xs:QName(,,person)">
     <ChildAxisIterator>
      <NameTestIterator qname="xs:QName(,,people)">
       <ChildAxisIterator>
        <NameTestIterator qname="xs:QName(,,site)">
         <ChildAxisIterator>
          <LetVarIterator varname="auction"/>
         </ChildAxisIterator>
        </NameTestIterator>
       </ChildAxisIterator>
      </NameTestIterator>
     </ChildAxisIterator>
    </NameTestIterator>
   </ForVariable>
   <LetVariable name="a" materialize="true">
    <FLWORIterator>
     <ForVariable name="t">
      <NameTestIterator qname="xs:QName(,,closed_auction)">
       <ChildAxisIterator>
        <NameTestIterator qname="xs:QName(,,closed_auctions)">
         <ChildAxisIterator>
          <NameTestIterator qname="xs:QName(,,site)">
           <ChildAxisIterator>
            <LetVarIterator varname="auction"/>
           </ChildAxisIterator>
          </NameTestIterator>
         </ChildAxisIterator>
        </NameTestIterator>
       </ChildAxisIterator>
      </NameTestIterator>
     </ForVariable>
     <WhereClause>
      <CompareIterator>
       <FnDataIterator>
        <NameTestIterator qname="xs:QName(,,id)">
         <AttributeAxisIterator>
          <ForVarIterator varname="p"/>
         </AttributeAxisIterator>
        </NameTestIterator>
       </FnDataIterator>
       <FnDataIterator>
        <NameTestIterator qname="xs:QName(,,person)">
         <AttributeAxisIterator>
          <NameTestIterator qname="xs:QName(,,buyer)">
           <ChildAxisIterator>
            <ForVarIterator varname="t"/>
           </ChildAxisIterator>
          </NameTestIterator>
         </AttributeAxisIterator>
        </NameTestIterator>
       </FnDataIterator>
      </CompareIterator>
     </WhereClause>
     <ReturnClause>
      <ElementIterator>
       <SingletonIterator value="xs:QName(,,item)"/>
       <ElementContentIterator>
        <EnclosedIterator attr_cont="false">
         <NodeSortIterator>
          <KindTestIterator test kind="match_text_test" qname="*" typename="*" nill allowed="0">
           <ChildAxisIterator>
            <NameTestIterator qname="xs:QName(,,name)">
             <ChildAxisIterator>
              <FLWORIterator>
               <ForVariable name="t2">
                <NameTestIterator qname="xs:QName(,,item)">
                 <ChildAxisIterator>
                  <NameTestIterator qname="xs:QName(,,europe)">
                   <ChildAxisIterator>
                    <NameTestIterator qname="xs:QName(,,regions)">
                     <ChildAxisIterator>
                      <NameTestIterator qname="xs:QName(,,site)">
                       <ChildAxisIterator>
                        <LetVarIterator varname="auction"/>
                       </ChildAxisIterator>
                      </NameTestIterator>
                     </ChildAxisIterator>
                    </NameTestIterator>
                   </ChildAxisIterator>
                  </NameTestIterator>
                 </ChildAxisIterator>
                </NameTestIterator>
               </ForVariable>
               <WhereClause>
                <CompareIterator>
                 <FnDataIterator>
                  <NameTestIterator qname="xs:QName(,,item)">
                   <AttributeAxisIterator>
                    <NameTestIterator qname="xs:QName(,,itemref)">
                     <ChildAxisIterator>
                      <ForVarIterator varname="t"/>
                     </ChildAxisIterator>
                    </NameTestIterator>
                   </AttributeAxisIterator>
                  </NameTestIterator>
                 </FnDataIterator>
                 <FnDataIterator>
                  <NameTestIterator qname="xs:QName(,,id)">
                   <AttributeAxisIterator>
                    <ForVarIterator varname="t2"/>
                   </AttributeAxisIterator>
                  </NameTestIterator>
                 </FnDataIterator>
                </CompareIterator>
               </WhereClause>
               <ReturnClause>
                <ForVarIterator varname="t2"/>
               </ReturnClause>
              </FLWORIterator>
             </ChildAxisIterator>
            </NameTestIterator>
           </ChildAxisIterator>
          </KindTestIterator>
         </NodeSortIterator>
        </EnclosedIterator>
       </ElementContentIterator>
      </ElementIterator>
     </ReturnClause>
    </FLWORIterator>
   </LetVariable>
   <ReturnClause>
    <ElementIterator>
     <SingletonIterator value="xs:QName(,,person)"/>
     <AttributeIterator>
      <SingletonIterator value="xs:QName(,,name)"/>
      <EnclosedIterator attr_cont="true">
       <FnDataIterator>
        <KindTestIterator test kind="match_text_test" qname="*" typename="*" nill allowed="0">
         <ChildAxisIterator>
          <NameTestIterator qname="xs:QName(,,name)">
           <ChildAxisIterator>
            <ForVarIterator varname="p"/>
           </ChildAxisIterator>
          </NameTestIterator>
         </ChildAxisIterator>
        </KindTestIterator>
       </FnDataIterator>
      </EnclosedIterator>
     </AttributeIterator>
     <ElementContentIterator>
      <EnclosedIterator attr_cont="false">
       <LetVarIterator varname="a"/>
      </EnclosedIterator>
     </ElementContentIterator>
    </ElementIterator>
   </ReturnClause>
  </FLWORIterator>
 </ReturnClause>
</FLWORIterator>

