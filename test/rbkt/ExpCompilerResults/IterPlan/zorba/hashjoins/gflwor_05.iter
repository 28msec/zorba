Iterator tree for main query:
<flwor::FLWORIterator>
  <LetVariable name="$$opt_temp_2" materialize="true">
    <CreateInternalIndexIterator name="xs:QName(,,tempIndex0)">
      <flwor::FLWORIterator>
        <ForVariable name="$$opt_temp_0">
          <FnConcatIterator>
            <SingletonIterator value="xs:integer(1)"/>
            <SingletonIterator value="xs:integer(2)"/>
            <SingletonIterator value="xs:integer(3)"/>
          </FnConcatIterator>
        </ForVariable>
        <ReturnClause>
          <ValueIndexEntryBuilderIterator>
            <ForVarIterator varname="$$opt_temp_0"/>
            <ForVarIterator varname="$$opt_temp_0"/>
          </ValueIndexEntryBuilderIterator>
        </ReturnClause>
      </flwor::FLWORIterator>
    </CreateInternalIndexIterator>
  </LetVariable>
  <ForVariable name="x">
    <FnConcatIterator>
      <ElementIterator>
        <SingletonIterator value="xs:QName(,,a)"/>
        <TextIterator>
          <SingletonIterator value="xs:string(1)"/>
        </TextIterator>
      </ElementIterator>
      <ElementIterator>
        <SingletonIterator value="xs:QName(,,a)"/>
        <TextIterator>
          <SingletonIterator value="xs:string(2)"/>
        </TextIterator>
      </ElementIterator>
      <ElementIterator>
        <SingletonIterator value="xs:QName(,,a)"/>
        <TextIterator>
          <SingletonIterator value="xs:string(3)"/>
        </TextIterator>
      </ElementIterator>
    </FnConcatIterator>
  </ForVariable>
  <LetVariable name="y" materialize="true">
    <flwor::TupleStreamIterator>
      <flwor::ForIterator>
        <ForVariable name="w"/>
        <flwor::GroupByIterator>
          <flwor::ForIterator>
            <ForVariable name="z"/>
            <flwor::TupleSourceIterator/>
            <FnConcatIterator>
              <ElementIterator copyInputNodes="false">
                <SingletonIterator value="xs:QName(,,b)"/>
                <TextIterator>
                  <SingletonIterator value="xs:string(1)"/>
                </TextIterator>
              </ElementIterator>
              <ElementIterator copyInputNodes="false">
                <SingletonIterator value="xs:QName(,,b)"/>
                <TextIterator>
                  <SingletonIterator value="xs:string(2)"/>
                </TextIterator>
              </ElementIterator>
              <ElementIterator copyInputNodes="false">
                <SingletonIterator value="xs:QName(,,b)"/>
                <TextIterator>
                  <SingletonIterator value="xs:string(2)"/>
                </TextIterator>
              </ElementIterator>
            </FnConcatIterator>
          </flwor::ForIterator>
          <Spec>
            <TreatIterator quant="?">
              <FnDataIterator>
                <ForVarIterator varname="z"/>
              </FnDataIterator>
            </TreatIterator>
            <GroupVariable/>
          </Spec>
        </flwor::GroupByIterator>
        <ProbeIndexPointValueIterator>
          <SingletonIterator value="xs:QName(,,tempIndex0)"/>
          <CastIterator type="xs:integer">
            <FnDataIterator>
              <ForVarIterator varname="x"/>
            </FnDataIterator>
          </CastIterator>
        </ProbeIndexPointValueIterator>
      </flwor::ForIterator>
      <ForVarIterator varname="w"/>
    </flwor::TupleStreamIterator>
  </LetVariable>
  <ReturnClause>
    <FnConcatIterator>
      <ElementIterator>
        <SingletonIterator value="xs:QName(,,res)"/>
        <EnclosedIterator attr_cont="false">
          <FnConcatIterator>
            <ForVarIterator varname="x"/>
            <FnCountIterator>
              <LetVarIterator varname="y"/>
            </FnCountIterator>
            <FnSumIntegerIterator>
              <LetVarIterator varname="y"/>
            </FnSumIntegerIterator>
          </FnConcatIterator>
        </EnclosedIterator>
      </ElementIterator>
      <SingletonIterator value="xs:string(
)"/>
    </FnConcatIterator>
  </ReturnClause>
</flwor::FLWORIterator>

