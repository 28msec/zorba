Iterator tree for main query:
<SequentialIterator>
  <CtxVarDeclareIterator varid="2" varname="input-context1"/>
  <CtxVarDeclareIterator varid="3" varname="input-context2"/>
  <OrIterator>
    <AndIterator>
      <NodeAfterIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="2" varname="input-context1" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,works)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="0">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="3" varname="input-context2" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,staff)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="0">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
      </NodeAfterIterator>
      <NodeAfterIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="2" varname="input-context1" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,works)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="1">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="3" varname="input-context2" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,staff)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="1">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
      </NodeAfterIterator>
      <NodeAfterIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="2" varname="input-context1" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,works)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="2">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="3" varname="input-context2" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,staff)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="2">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
      </NodeAfterIterator>
    </AndIterator>
    <AndIterator>
      <NodeBeforeIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="2" varname="input-context1" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,works)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="0">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="3" varname="input-context2" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,staff)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="0">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
      </NodeBeforeIterator>
      <NodeBeforeIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="2" varname="input-context1" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,works)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="1">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="3" varname="input-context2" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,staff)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="1">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
      </NodeBeforeIterator>
      <NodeBeforeIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="2" varname="input-context1" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,works)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="2">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
        <TreatIterator quant="?">
          <NodeDistinctIterator allow-atomics="false" check-only="false">
            <flwor::FLWORIterator>
              <ForVariable name="$$dot">
                <NodeDistinctIterator allow-atomics="false" check-only="false">
                  <flwor::FLWORIterator>
                    <ForVariable name="$$dot">
                      <NodeDistinctIterator allow-atomics="false" check-only="false">
                        <flwor::FLWORIterator>
                          <ForVariable name="$$dot">
                            <NodeDistinctIterator allow-atomics="false" check-only="false">
                              <TreatIterator type="[NodeXQType anyNode content=[XQType ANY_TYPE_KIND*]]" quant="*">
                                <CtxVarIterator varid="3" varname="input-context2" varkind="global"/>
                              </TreatIterator>
                            </NodeDistinctIterator>
                          </ForVariable>
                          <ReturnClause>
                            <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,staff)" typename="*" nill allowed="0" target_position="0">
                              <ForVarIterator varname="$$dot"/>
                            </ChildAxisIterator>
                          </ReturnClause>
                        </flwor::FLWORIterator>
                      </NodeDistinctIterator>
                    </ForVariable>
                    <ReturnClause>
                      <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,employee)" typename="*" nill allowed="0" target_position="2">
                        <ForVarIterator varname="$$dot"/>
                      </ChildAxisIterator>
                    </ReturnClause>
                  </flwor::FLWORIterator>
                </NodeDistinctIterator>
              </ForVariable>
              <ReturnClause>
                <ChildAxisIterator test kind="match_name_test" qname="xs:QName(,,empnum)" typename="*" nill allowed="0" target_position="0">
                  <ForVarIterator varname="$$dot"/>
                </ChildAxisIterator>
              </ReturnClause>
            </flwor::FLWORIterator>
          </NodeDistinctIterator>
        </TreatIterator>
      </NodeBeforeIterator>
    </AndIterator>
  </OrIterator>
</SequentialIterator>

