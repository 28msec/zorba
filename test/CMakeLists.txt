# temporary include; the tests should probably go in the according src dir
INCLUDE_DIRECTORIES(BEFORE ${CMAKE_SOURCE_DIR}/src)

ADD_SUBDIRECTORY(rbkt)
ADD_SUBDIRECTORY(unit)
ADD_SUBDIRECTORY(samples)

SET(API_TEST_SRCS
    timer.cpp
    apitest.cpp)

ADD_EXECUTABLE(apitest ${API_TEST_SRCS})
TARGET_LINK_LIBRARIES(apitest zorba)

IF(WIN32 AND NOT UNIX)
	INSTALL(PROGRAMS ${CMAKE_CURRENT_BINARY_DIR}/apitest.exe
  		DESTINATION bin)	
ELSE(WIN32 AND NOT UNIX)
	INSTALL(PROGRAMS ${CMAKE_CURRENT_BINARY_DIR}/apitest
  		DESTINATION bin)
ENDIF(WIN32 AND NOT UNIX)

IF (BUILD_STATIC_LIBRARY)
	ADD_EXECUTABLE(apitest_static ${API_TEST_SRCS})
	TARGET_LINK_LIBRARIES(apitest_static zorba_static)
ENDIF (BUILD_STATIC_LIBRARY)


SET(TEST_STORE_SRCS
    timer.cpp 
    test_store.cpp)

ADD_EXECUTABLE(test_store ${TEST_STORE_SRCS})
TARGET_LINK_LIBRARIES(test_store zorba)
