<?xml version="1.0" encoding="UTF-8"?>

<!--
/////////////////////////////////////////////////////////////////////////////////
// Zorba Function Item                                                         //
/////////////////////////////////////////////////////////////////////////////////
-->
<zorba:iterators
  xmlns:zorba="http://www.zorba-xquery.com"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.zorba-xquery.com ../runtime.xsd">

<zorba:header>
  <zorba:include form="Quoted">compiler/expression/expr_base.h</zorba:include>
  <zorba:include form="Quoted">runtime/util/plan_wrapper_holder.h</zorba:include>
  <zorba:include form="Quoted">types/typeimpl.h</zorba:include>
  <zorba:include form="Quoted">functions/function.h</zorba:include>
</zorba:header>

<zorba:source>
  <zorba:include form="Quoted">context/static_context.h</zorba:include>
  <zorba:include form="Quoted">compiler/api/compilercb.h</zorba:include>
  <zorba:include form="Quoted">context/dynamic_context.h</zorba:include>
</zorba:source>
<!--
/*******************************************************************************
 Dynamic Function Invocation
********************************************************************************/
-->
<zorba:iterator name="DynamicFunctionInvocationIterator">

  <zorba:description author="Zorba Team">TODO: notes from the spec</zorba:description>

  <zorba:state generateInit="false" generateReset="false"> 
    <zorba:member type="store::Iterator_t" name="thePlan"
                  brief="the plan to execute"/>
    <zorba:member type="std::auto_ptr&lt;CompilerCB>" name="ccb"
                  brief="the CompilerCB used to compile the plan"/>
    <zorba:member type="std::auto_ptr&lt;dynamic_context>" name="dctx"
                  brief="the dynamic context used to during execution of the plan"/>
  </zorba:state>
 
  <zorba:constructor>
    <zorba:parameter type="checked_vector&lt;PlanIter_t>" name="args" />
  </zorba:constructor>

</zorba:iterator>
</zorba:iterators>
