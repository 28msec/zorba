<?xml version="1.0" encoding="UTF-8"?>

<zorba:iterators
  xmlns:zorba="http://www.zorba-xquery.com"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.zorba-xquery.com ../runtime.xsd">

<zorba:header>
  <zorba:include form="Quoted">store/api/iterator.h</zorba:include>
  <zorba:include form="Quoted">store/api/iterator_factory.h</zorba:include>
  <zorba:include form="Quoted">fstream</zorba:include>
  <zorba:include form="Quoted">zorbautils/checked_vector.h</zorba:include>
  <zorba:include form="Quoted">zorba/xquery.h</zorba:include>
</zorba:header>

<zorba:source>
  <zorba:include form="Quoted">store/api/item.h</zorba:include>
  <zorba:include form="Quoted">store/api/item_factory.h</zorba:include>
</zorba:source>
  
<zorba:codegen>
  <zorba:cpp>
    <zorba:include form="Quoted">system/globalenv.h</zorba:include>
    <zorba:include form="Quoted">types/typeops.h</zorba:include>
  </zorba:cpp>
</zorba:codegen>

<!--
/*******************************************************************************
  zorba-json:parse
********************************************************************************/
-->
<zorba:iterator name="ZorbaJsonParseIterator">

  <zorba:description author="Zorba Team">Parsing a sequence of valid JSON strings into a sequence of XDM elements.</zorba:description>

  <zorba:function>
    <zorba:signature localname="parse" prefix="fn-zorba-json">
      <zorba:param>xs:string*</zorba:param>
      <zorba:output>node()*</zorba:output>
    </zorba:signature>
  </zorba:function>

  <zorba:state generateInit="true" generateReset="true">
    <zorba:member type="zstring" name="theBaseUri" brief="the base URI"/>
  </zorba:state>
</zorba:iterator>
  
<!--
/*******************************************************************************
  zorba-json:serialize
********************************************************************************/
-->
<zorba:iterator name="ZorbaJsonSerializeIterator">
  
  <zorba:description author="Zorba Team">The serialize function takes a sequence of elements as parameter and transforms each element into a valid JSON string.</zorba:description>
  
  <zorba:function>
    <zorba:signature localname="serialize" prefix="fn-zorba-json">
      <zorba:param>node()*</zorba:param>
      <zorba:output>xs:string*</zorba:output>
    </zorba:signature>
  </zorba:function>

</zorba:iterator>
  
<!--
/*******************************************************************************
  zorba-json:parse-ml
********************************************************************************/
-->
<zorba:iterator name="ZorbaJsonParseMLIterator">

  <zorba:description author="Zorba Team">Parsing a sequence of valid JsonML strings into a sequence of XDM elements.</zorba:description>

  <zorba:function>
    <zorba:signature localname="parse-ml" prefix="fn-zorba-json">
      <zorba:param>xs:string*</zorba:param>
      <zorba:output>node()*</zorba:output>
    </zorba:signature>
  </zorba:function>

  <zorba:state generateInit="true" generateReset="true">
    <zorba:member type="zstring" name="theBaseUri" brief="the base URI"/>
  </zorba:state>
</zorba:iterator>
  
<!--
/*******************************************************************************
  zorba-json:serialize-ml
********************************************************************************/
-->
<zorba:iterator name="ZorbaJsonSerializeMLIterator">
  
  <zorba:description author="Zorba Team">The serialize function takes a sequence of elements as parameter and transforms each element into a valid JsonML string.</zorba:description>
  
  <zorba:function>
    <zorba:signature localname="serialize-ml" prefix="fn-zorba-json">
      <zorba:param>node()*</zorba:param>
      <zorba:output>xs:string*</zorba:output>
    </zorba:signature>
  </zorba:function>

</zorba:iterator>

</zorba:iterators>
