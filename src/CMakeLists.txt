ADD_SUBDIRECTORY(api)
ADD_SUBDIRECTORY(compiler)
ADD_SUBDIRECTORY(context)
ADD_SUBDIRECTORY(errors)
ADD_SUBDIRECTORY(functions)
ADD_SUBDIRECTORY(runtime)
ADD_SUBDIRECTORY(store)
ADD_SUBDIRECTORY(types)
ADD_SUBDIRECTORY(util)

SET(ZORBA_SRCS dummy.cpp)

IF (MSVC)
	ADD_LIBRARY(zorba ${ZORBA_SRCS})
ELSE (MSVC)
	ADD_LIBRARY(zorba SHARED ${ZORBA_SRCS})
ENDIF (MSVC)


TARGET_LINK_LIBRARIES(zorba api)
TARGET_LINK_LIBRARIES(zorba codegen)
TARGET_LINK_LIBRARIES(zorba expression)
TARGET_LINK_LIBRARIES(zorba parser)
TARGET_LINK_LIBRARIES(zorba util)
TARGET_LINK_LIBRARIES(zorba parsetree)
TARGET_LINK_LIBRARIES(zorba translator)
TARGET_LINK_LIBRARIES(zorba context)
TARGET_LINK_LIBRARIES(zorba errors)
TARGET_LINK_LIBRARIES(zorba functions)
TARGET_LINK_LIBRARIES(zorba runtime)
TARGET_LINK_LIBRARIES(zorba store)
TARGET_LINK_LIBRARIES(zorba types)
TARGET_LINK_LIBRARIES(zorba logging)


TARGET_LINK_LIBRARIES(zorba ${ICU_LIBRARIES} ${ICU_I18N_LIBRARIES} ${ICU_DATA_LIBRARIES})
