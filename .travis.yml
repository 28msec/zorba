language: cpp
before_script:
  - sudo apt-get update -qq
  - sudo apt-get install libicu-dev libxml2-dev uuid-dev libxerces-c-dev
  - sudo apt-get remove bison flex
  - sudo locale-gen de_DE && sudo locale-gen de_DE.UTF-8 && sudo locale-gen fr_FR && sudo locale-gen fr_FR.UTF-8 && sudo update-locale
  - mkdir build && cd build && cmake -DZORBA_XQUERYX:BOOL=1 -DZORBA_TEST_XQUERYX:BOOL=1 -DZORBA_WITH_BIG_INTEGER=1 -DCMAKE_BUILD_TYPE=Release -DZORBA_TEST_PLAN_SERIALIZATION:BOOL=1 -DZORBATEST_USE_MT_XQTS:BOOL=1 .. && make -j2 && make all modules_svg
script: sh ../travis.sh
