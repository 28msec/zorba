<div class="doxygen">
  <div><h1 class="title">zorba::StaticCollectionManager</h1><p class="include">
            #include &lt;zorba/static_collection_manager.h&gt;
        </p><p class="inherited">
          Inherited from:
          <a href="classzorba_1_1CollectionManager.html">zorba::CollectionManager</a></p>
Using the <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a> one can retrieve information about statically declared collections and indexes as well as manage them.     
The <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a> can be retrieved from (1) a compiled <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or (2) a <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> object. In both cases, this class provides access to information for the collections and indexes that are declared in (1) all the modules (transitively) imported by the main query or (2) the module that resulted in the compilation of the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a>, respectively. Moreover, this class allows to create or delete such collections and indexes.     <div class="section"><h2>Public Functions</h2><table class="parameters table table-bordered"><tr><td class="return-type"><p class="signature"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a></p></td><td><p class="signature"><a href="#ae092e1d90290a89fc0a164b547b8db95">availableCollections</a>() const =0</p><span class="signature-description">
This function returns a sequence of names of the collections that are available.         </span></td></tr><tr><td class="return-type"><p class="signature"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a></p></td><td><p class="signature"><a href="#a8cd832431706841dadbe700a092db823">availableIndexes</a>() const =0</p><span class="signature-description">
This function returns a sequence of names of the indexes that are available.         </span></td></tr><tr><td class="return-type"><p class="signature">void</p></td><td><p class="signature"><a href="#a0090d330828f209cbe927e8dabcd253c">createCollection</a>(const Item &amp;aName)=0</p><span class="signature-description">
This function creates the collection with the given name.         </span></td></tr><tr><td class="return-type"><p class="signature">void</p></td><td><p class="signature"><a href="#a0dead76c9de24d4334a69b85e1fcb19f">createCollection</a>(const Item &amp;aName, const ItemSequence_t &amp;aContents)=0</p><span class="signature-description">
This function creates the collection with the given name.         </span></td></tr><tr><td class="return-type"><p class="signature">void</p></td><td><p class="signature"><a href="#a78a4dd5939c1ee37624ce77da055e9e9">createIndex</a>(const Item &amp;aQName)=0</p><span class="signature-description">
Create the index with the given name.         </span></td></tr><tr><td class="return-type"><p class="signature"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a></p></td><td><p class="signature"><a href="#ab48ada10d88590f970c8b222baab5621">declaredCollections</a>() const =0</p><span class="signature-description">
List all the collections that are declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </span></td></tr><tr><td class="return-type"><p class="signature"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a></p></td><td><p class="signature"><a href="#a681d5d4cfc62c917f65997ff3f4fb7ad">declaredIndexes</a>() const =0</p><span class="signature-description">
List all the indexes that are declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </span></td></tr><tr><td class="return-type"><p class="signature">void</p></td><td><p class="signature"><a href="#a61404aa5dddddd6f13c5cc8629893ccc">deleteCollection</a>(const Item &amp;aName)=0</p><span class="signature-description">
This function removes the collection with the given name.         </span></td></tr><tr><td class="return-type"><p class="signature">void</p></td><td><p class="signature"><a href="#ad46a8557c301b928cb404e69e33a4a24">deleteIndex</a>(const Item &amp;aQName)=0</p><span class="signature-description">
Create the index with the given name.         </span></td></tr><tr><td class="return-type"><p class="signature"><a href="/pages/3.0/zorba/namespacezorba?anchor=a291189546e49e82a0c583e69665fab70">Collection_t</a></p></td><td><p class="signature"><a href="#ad2c74e30228bdaa0e6eb18d282e0142a">getCollection</a>(const Item &amp;aName) const =0</p><span class="signature-description">
Returns a instance of the <a href="/pages/3.0/zorba/classzorba_1_1Collection">Collection</a> class which can be used to modify and retrieve the contents of the collection identified by the given name.         </span></td></tr><tr><td class="return-type"><p class="signature">bool</p></td><td><p class="signature"><a href="#a1a52dbc88a8487c58b6183a129d86b0e">isAvailableCollection</a>(const Item &amp;aName) const =0</p><span class="signature-description">
This function returns true if a collection with the given name is available.         </span></td></tr><tr><td class="return-type"><p class="signature">bool</p></td><td><p class="signature"><a href="#a3109ce1b82611bb564e6fefc3e989682">isAvailableIndex</a>(const Item &amp;aQName) const =0</p><span class="signature-description">
This function returns true if a index with the given name is available.         </span></td></tr><tr><td class="return-type"><p class="signature">bool</p></td><td><p class="signature"><a href="#a101c0f2137d8905555f1b5fd85ab0547">isDeclaredCollection</a>(const Item &amp;aQName) const =0</p><span class="signature-description">
Checks if a collection with a given QName is declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </span></td></tr><tr><td class="return-type"><p class="signature">bool</p></td><td><p class="signature"><a href="#a7472ba0279253afdbe8fc8d38c53598a">isDeclaredIndex</a>(const Item &amp;aQName) const =0</p><span class="signature-description">
Checks if a index with a given QName is declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </span></td></tr><tr><td class="return-type"><p class="signature">void</p></td><td><p class="signature"><a href="#a9102fa29ec8b2841fa86723e7da1ad32">registerDiagnosticHandler</a>(DiagnosticHandler *aDiagnosticHandler)=0</p><span class="signature-description">
Register a <a href="/pages/3.0/zorba/classzorba_1_1DiagnosticHandler">DiagnosticHandler</a> to which errors occuring during the management of collections are reported.         </span></td></tr><tr><td class="return-type"><p class="signature"/></td><td><p class="signature"><a href="#a15e3e7332226c7fb98df02dcdad1cfda">~StaticCollectionManager</a>()</p><span class="signature-description">
        </span></td></tr></table></div><div class="section"><h2>Public Functions</h2><div class="detailed"><div id="ae092e1d90290a89fc0a164b547b8db95" class="sect1"><div><h3>availableCollections</h3></div><div class="signature-box"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a><span> </span>availableCollections() const =0</div><div><p class="signature-description">
This function returns a sequence of names of the collections that are available.         </p><p class="signature-description">
If this is an instance of the <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a> class (i.e. returned by any of the getStaticCollectionManager methods), the collections returned by this function are also statically declared.<div><h4>Returns</h4>The list of names of the available collections. </div>
        </p></div></div><div id="a8cd832431706841dadbe700a092db823" class="sect1"><div><h3>availableIndexes</h3></div><div class="signature-box"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a><span> </span>availableIndexes() const =0</div><div><p class="signature-description">
This function returns a sequence of names of the indexes that are available.         </p><p class="signature-description">
<div><h4>Returns</h4>The list of names of the available indexes. </div>
        </p></div></div><div id="a0090d330828f209cbe927e8dabcd253c" class="sect1"><div><h3>createCollection</h3></div><div class="signature-box">void<span> </span>createCollection(const Item &amp;aName)=0</div><div><p class="signature-description">
This function creates the collection with the given name.         </p><p class="signature-description">
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aName</td><td>
The name of the collection to create.</td></tr></table></div>
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>XDDY0002</td><td>
if a collection with the given name already exists. </td></tr></table></div>
        </p></div></div><div id="a0dead76c9de24d4334a69b85e1fcb19f" class="sect1"><div><h3>createCollection</h3></div><div class="signature-box">void<span> </span>createCollection(const Item &amp;aName, const ItemSequence_t &amp;aContents)=0</div><div><p class="signature-description">
This function creates the collection with the given name.         </p><p class="signature-description">
Moreover, it adds copies of the sequence aContents to the new collection.<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aName</td><td>
The name of the collection to create. </td></tr><tr><td>aContents</td><td>
The sequence of items.</td></tr></table></div>
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>XDDY0002</td><td>
if a collection with the given name already exists. </td></tr></table></div>
        </p></div></div><div id="a78a4dd5939c1ee37624ce77da055e9e9" class="sect1"><div><h3>createIndex</h3></div><div class="signature-box">void<span> </span>createIndex(const Item &amp;aQName)=0</div><div><p class="signature-description">
Create the index with the given name.         </p><p class="signature-description">
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aQName</td><td>
The name of the index to create.</td></tr></table></div>
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>zerr:ZDDY0021</td><td>
if a index with the given name is not declared.</td></tr><tr><td>zerr:ZDDY0022</td><td>
if a index with the given name already exists. </td></tr></table></div>
        </p></div></div><div id="ab48ada10d88590f970c8b222baab5621" class="sect1"><div><h3>declaredCollections</h3></div><div class="signature-box"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a><span> </span>declaredCollections() const =0</div><div><p class="signature-description">
List all the collections that are declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </p><p class="signature-description">
<div><h4>Returns</h4>a sequence of QNames of all said collections </div>
        </p></div></div><div id="a681d5d4cfc62c917f65997ff3f4fb7ad" class="sect1"><div><h3>declaredIndexes</h3></div><div class="signature-box"><a href="/pages/3.0/zorba/namespacezorba?anchor=ab047eb444ab2bd501dca0b831aac47ac">ItemSequence_t</a><span> </span>declaredIndexes() const =0</div><div><p class="signature-description">
List all the indexes that are declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </p><p class="signature-description">
<div><h4>Returns</h4>a sequence of QNames of all said indexes </div>
        </p></div></div><div id="a61404aa5dddddd6f13c5cc8629893ccc" class="sect1"><div><h3>deleteCollection</h3></div><div class="signature-box">void<span> </span>deleteCollection(const Item &amp;aName)=0</div><div><p class="signature-description">
This function removes the collection with the given name.         </p><p class="signature-description">
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aName</td><td>
The name of the collection to delete.</td></tr></table></div>
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>XDDY0003</td><td>
if the collection does not exist. </td></tr></table></div>
        </p></div></div><div id="ad46a8557c301b928cb404e69e33a4a24" class="sect1"><div><h3>deleteIndex</h3></div><div class="signature-box">void<span> </span>deleteIndex(const Item &amp;aQName)=0</div><div><p class="signature-description">
Create the index with the given name.         </p><p class="signature-description">
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aQName</td><td>
The name of the index to create.</td></tr></table></div>
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>zerr:ZDDY0021</td><td>
if a index with the given name is not declared.</td></tr><tr><td>zerr:ZDDY0009</td><td>
if a index with the given name does not exist </td></tr></table></div>
        </p></div></div><div id="ad2c74e30228bdaa0e6eb18d282e0142a" class="sect1"><div><h3>getCollection</h3></div><div class="signature-box"><a href="/pages/3.0/zorba/namespacezorba?anchor=a291189546e49e82a0c583e69665fab70">Collection_t</a><span> </span>getCollection(const Item &amp;aName) const =0</div><div><p class="signature-description">
Returns a instance of the <a href="/pages/3.0/zorba/classzorba_1_1Collection">Collection</a> class which can be used to modify and retrieve the contents of the collection identified by the given name.         </p><p class="signature-description">
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aName</td><td>
The name of the collection to retrieve.</td></tr></table></div>
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>XDDY0003</td><td>
if the collection does not exist. </td></tr></table></div>
        </p></div></div><div id="a1a52dbc88a8487c58b6183a129d86b0e" class="sect1"><div><h3>isAvailableCollection</h3></div><div class="signature-box">bool<span> </span>isAvailableCollection(const Item &amp;aName) const =0</div><div><p class="signature-description">
This function returns true if a collection with the given name is available.         </p><p class="signature-description">
If this is an instance of the <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a> class (i.e. returned by any of the getStaticCollectionManager() methods), the collection also needs to be statically declared.<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aName</td><td>
The name of the collection that is being checked.</td></tr></table></div>
<div><h4>Returns</h4>true if the collection is available and false otherwise. </div>
        </p></div></div><div id="a3109ce1b82611bb564e6fefc3e989682" class="sect1"><div><h3>isAvailableIndex</h3></div><div class="signature-box">bool<span> </span>isAvailableIndex(const Item &amp;aQName) const =0</div><div><p class="signature-description">
This function returns true if a index with the given name is available.         </p><p class="signature-description">
<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aQName</td><td>
The name of the index that is being checked.</td></tr></table></div>
<div><h4>Returns</h4>true if the index is available and false otherwise. </div>
        </p></div></div><div id="a101c0f2137d8905555f1b5fd85ab0547" class="sect1"><div><h3>isDeclaredCollection</h3></div><div class="signature-box">bool<span> </span>isDeclaredCollection(const Item &amp;aQName) const =0</div><div><p class="signature-description">
Checks if a collection with a given QName is declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </p><p class="signature-description">
<div><h4>Returns</h4>true if a collection with the given name is declared, false otherwise. </div>
        </p></div></div><div id="a7472ba0279253afdbe8fc8d38c53598a" class="sect1"><div><h3>isDeclaredIndex</h3></div><div class="signature-box">bool<span> </span>isDeclaredIndex(const Item &amp;aQName) const =0</div><div><p class="signature-description">
Checks if a index with a given QName is declared in the <a href="/pages/3.0/zorba/classzorba_1_1XQuery">XQuery</a> or the <a href="/pages/3.0/zorba/classzorba_1_1StaticContext">StaticContext</a> that was used to retrieve this <a href="/pages/3.0/zorba/classzorba_1_1StaticCollectionManager">StaticCollectionManager</a>.         </p><p class="signature-description">
<div><h4>Returns</h4>true if a collection with the given name is declared, false otherwise. </div>
        </p></div></div><div id="a9102fa29ec8b2841fa86723e7da1ad32" class="sect1"><div><h3>registerDiagnosticHandler</h3></div><div class="signature-box">void<span> </span>registerDiagnosticHandler(DiagnosticHandler *aDiagnosticHandler)=0</div><div><p class="signature-description">
Register a <a href="/pages/3.0/zorba/classzorba_1_1DiagnosticHandler">DiagnosticHandler</a> to which errors occuring during the management of collections are reported.         </p><p class="signature-description">
If no <a href="/pages/3.0/zorba/classzorba_1_1DiagnosticHandler">DiagnosticHandler</a> has been set using this function or the corresponding function of the <a href="/pages/3.0/zorba/classzorba_1_1XmlDataManager">XmlDataManager</a> then subclasses of the <a href="/pages/3.0/zorba/classzorba_1_1ZorbaException">ZorbaException</a> class are thrown to report errors.<div><h4>Parameters</h4><table class="parameters table table-bordered"><tr><td>aDiagnosticHandler</td><td>
<a href="/pages/3.0/zorba/classzorba_1_1DiagnosticHandler">DiagnosticHandler</a> to which errors are reported. The caller retains ownership over the <a href="/pages/3.0/zorba/classzorba_1_1DiagnosticHandler">DiagnosticHandler</a> passed as parameter. </td></tr></table></div>
        </p></div></div><div id="a15e3e7332226c7fb98df02dcdad1cfda" class="sect1"><div><h3>~StaticCollectionManager</h3></div><div class="signature-box"><span> </span>~StaticCollectionManager()</div><div><p class="signature-description">
        </p><p class="signature-description">
        </p></div></div></div></div></div>
</div>