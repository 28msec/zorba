<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0"><xqdoc:control><xqdoc:date>2013-12-04T01:28:38.942159+01:00</xqdoc:date><xqdoc:version>1.0</xqdoc:version></xqdoc:control><xqdoc:module type="library"><xqdoc:uri>http://zorba.io/modules/data-cleaning/set-similarity</xqdoc:uri><xqdoc:name>set-similarity</xqdoc:name><xqdoc:comment><xqdoc:description> <p>This library module provides similarity functions for comparing sets of XML
 nodes (e.g., sets of XML elements, attributes or atomic values).</p>
 <p/>
 <p>These functions are particularly useful for matching near duplicate sets of XML nodes.</p>
 <p/>
 <p>The logic contained in this module is not specific to any particular XQuery implementation.</p>
</xqdoc:description><xqdoc:author>Bruno Martins</xqdoc:author><xqdoc:custom tag="project">Zorba/Data Cleaning/Set Similarity</xqdoc:custom><xqdoc:custom tag="language">xquery</xqdoc:custom><xqdoc:custom tag="version">1.0</xqdoc:custom><xqdoc:custom tag="encoding">utf-8</xqdoc:custom></xqdoc:comment><xqdoc:custom tag="namespaces"><xqdoc:namespace prefix="set" uri="http://zorba.io/modules/data-cleaning/set-similarity" isSchema="false"/><xqdoc:namespace prefix="ver" uri="http://zorba.io/options/versioning" isSchema="false"/></xqdoc:custom></xqdoc:module><xqdoc:imports/><xqdoc:variables/><xqdoc:collections/><xqdoc:indexes/><xqdoc:functions><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Returns the union between two sets, using the deep-equal() function to compare the XML nodes from the sets.</p>
 <p/>
 <p>Example usage : <pre class="ace-static" ace-mode="xquery"> deep-union ( ( "a", "b", "c") , ( "a", "a", <d/> ) ) </pre></p>
 <p/>
 <p>The function invocation in the example above returns : <pre class="ace-static" ace-mode="xquery"> ("a", "b", "c", <d/> ) </pre></p>
</xqdoc:description><xqdoc:param>$s1 The first set.</xqdoc:param><xqdoc:param>$s2 The second set.</xqdoc:param><xqdoc:return>The union of both sets.</xqdoc:return><xqdoc:custom tag="example">test/Queries/data-cleaning/set-similarity/deep-union.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>set:deep-union</xqdoc:name><xqdoc:signature>declare function set:deep-union($s1, $s2) as item()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>s1</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>s2</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">item()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>deep-equal</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>subsequence</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Returns the intersection between two sets, using the deep-equal() function to compare the XML nodes from the sets.</p>
 <p/>
 <p>Example usage : <pre class="ace-static" ace-mode="xquery"> deep-intersect ( ( "a", "b", "c") , ( "a", "a", <d/> ) ) </pre></p>
 <p/>
 <p>The function invocation in the example above returns : <pre class="ace-static" ace-mode="xquery"> ("a") </pre></p>
</xqdoc:description><xqdoc:param>$s1 The first set.</xqdoc:param><xqdoc:param>$s2 The second set.</xqdoc:param><xqdoc:return>The intersection of both sets.</xqdoc:return><xqdoc:custom tag="example">test/Queries/data-cleaning/set-similarity/deep-intersect.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>set:deep-intersect</xqdoc:name><xqdoc:signature>declare function set:deep-intersect($s1, $s2) as item()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>s1</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>s2</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">item()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>deep-equal</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>subsequence</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Removes exact duplicates from a set, using the deep-equal() function to compare the XML nodes from the sets.</p>
 <p/>
 <p>Example usage : <pre class="ace-static" ace-mode="xquery"> distinct ( ( "a", "a", <b/> ) ) </pre></p>
 <p/>
 <p>The function invocation in the example above returns : <pre class="ace-static" ace-mode="xquery"> ("a", <b/> ) </pre></p>
</xqdoc:description><xqdoc:param>$s A set.</xqdoc:param><xqdoc:return>The set provided as input without the exact duplicates (i.e., returns the distinct nodes from the set provided as input).</xqdoc:return><xqdoc:custom tag="example">test/Queries/data-cleaning/set-similarity/distinct.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>set:distinct</xqdoc:name><xqdoc:signature>declare function set:distinct($s) as item()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>s</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">item()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>deep-equal</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>not</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>subsequence</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Returns the overlap coefficient between two sets of XML nodes.</p>
 <p>The overlap coefficient is defined as the shared information between the input sets
 (i.e., the size of the intersection) over the size of the smallest input set.</p>
 <p/>
 <p>Example usage : <pre class="ace-static" ace-mode="xquery"> overlap ( ( "a", "b", <c/> ) , ( "a", "a", "b" ) ) </pre></p>
 <p/>
 <p>The function invocation in the example above returns : <pre class="ace-static" ace-mode="xquery"> 1.0 </pre></p>
</xqdoc:description><xqdoc:param>$s1 The first set.</xqdoc:param><xqdoc:param>$s2 The second set.</xqdoc:param><xqdoc:return>The overlap coefficient between the two sets.</xqdoc:return><xqdoc:custom tag="example">test/Queries/data-cleaning/set-similarity/overlap.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>set:overlap</xqdoc:name><xqdoc:signature>declare function set:overlap($s1, $s2) as xs:double</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>s1</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>s2</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>xs:double</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>count</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>min</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://zorba.io/modules/data-cleaning/set-similarity</xqdoc:uri><xqdoc:name>deep-intersect</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/data-cleaning/set-similarity</xqdoc:uri><xqdoc:name>distinct</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Returns the Dice similarity coefficient between two sets of XML nodes.</p>
 <p>The Dice coefficient is defined as defined as twice the shared information between the input sets
 (i.e., the size of the intersection) over the sum of the cardinalities for the input sets.</p>
 <p/>
 <p>Example usage : <pre class="ace-static" ace-mode="xquery"> dice ( ( "a", "b", <c/> ) , ( "a", "a", "d") ) </pre></p>
 <p/>
 <p>The function invocation in the example above returns : <pre class="ace-static" ace-mode="xquery"> 0.4 </pre></p>
</xqdoc:description><xqdoc:param>$s1 The first set.</xqdoc:param><xqdoc:param>$s2 The second set.</xqdoc:param><xqdoc:return>The Dice similarity coefficient between the two sets.</xqdoc:return><xqdoc:custom tag="example">test/Queries/data-cleaning/set-similarity/dice.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>set:dice</xqdoc:name><xqdoc:signature>declare function set:dice($s1, $s2) as xs:double</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>s1</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>s2</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>xs:double</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>count</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://zorba.io/modules/data-cleaning/set-similarity</xqdoc:uri><xqdoc:name>deep-intersect</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/data-cleaning/set-similarity</xqdoc:uri><xqdoc:name>distinct</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>Returns the Jaccard similarity coefficient between two sets of XML nodes.</p>
 <p>The Jaccard coefficient is defined as the size of the intersection divided by the size of the
 union of the input sets.</p>
 <p/>
 <p>Example usage : <pre class="ace-static" ace-mode="xquery"> jaccard ( ( "a", "b", <c/> ) , ( "a", "a", "d") ) </pre></p>
 <p/>
 <p>The function invocation in the example above returns : <pre class="ace-static" ace-mode="xquery"> 0.25 </pre></p>
</xqdoc:description><xqdoc:param>$s1 The first set.</xqdoc:param><xqdoc:param>$s2 The second set.</xqdoc:param><xqdoc:return>The Jaccard similarity coefficient between the two sets.</xqdoc:return><xqdoc:custom tag="example">test/Queries/data-cleaning/set-similarity/jaccard.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>set:jaccard</xqdoc:name><xqdoc:signature>declare function set:jaccard($s1, $s2) as xs:double</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>s1</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>s2</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>xs:double</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>count</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://zorba.io/modules/data-cleaning/set-similarity</xqdoc:uri><xqdoc:name>deep-intersect</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://zorba.io/modules/data-cleaning/set-similarity</xqdoc:uri><xqdoc:name>deep-union</xqdoc:name></xqdoc:invoked></xqdoc:function></xqdoc:functions></xqdoc:xqdoc>