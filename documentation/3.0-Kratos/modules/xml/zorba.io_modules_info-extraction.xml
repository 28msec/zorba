<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0"><xqdoc:control><xqdoc:date>2013-12-04T01:28:38.942159+01:00</xqdoc:date><xqdoc:version>1.0</xqdoc:version></xqdoc:control><xqdoc:module type="library"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>info-extraction</xqdoc:name><xqdoc:comment><xqdoc:description> <p>This library module provides data extraction functions that return a list
 of entities, relations, categories and concepts present in a given text.</p>
</xqdoc:description><xqdoc:author>Pedro Antunes</xqdoc:author><xqdoc:custom tag="project">Zorba/Data Cleaning/Info Extraction</xqdoc:custom><xqdoc:custom tag="language">xquery</xqdoc:custom><xqdoc:custom tag="version">3.0</xqdoc:custom><xqdoc:custom tag="encoding">utf-8</xqdoc:custom></xqdoc:comment><xqdoc:custom tag="namespaces"><xqdoc:namespace prefix="ann" uri="http://zorba.io/annotations" isSchema="false"/><xqdoc:namespace prefix="ex" uri="http://zorba.io/modules/info-extraction" isSchema="false"/><xqdoc:namespace prefix="h" uri="http://expath.org/ns/http-client" isSchema="true"/><xqdoc:namespace prefix="http" uri="http://www.zorba-xquery.com/modules/http-client" isSchema="false"/><xqdoc:namespace prefix="yahoo" uri="urn:yahoo:cap" isSchema="false"/></xqdoc:custom></xqdoc:module><xqdoc:imports><xqdoc:import type="schema"><xqdoc:uri>http://expath.org/ns/http-client</xqdoc:uri></xqdoc:import><xqdoc:import type="library"><xqdoc:uri>http://www.zorba-xquery.com/modules/http-client</xqdoc:uri></xqdoc:import></xqdoc:imports><xqdoc:variables/><xqdoc:collections/><xqdoc:indexes/><xqdoc:functions><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Uses Yahoo's Content Analysis webservice to return a list of entities
 encountered in the text supplied as input.</p>
 <p>See http://developer.yahoo.com/search/content/V2/contentAnalysis.html for more information.</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:return>Sequence of recognized entities</xqdoc:return><xqdoc:custom tag="example">test/Queries/entities.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>ex:entities</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="ann" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %ann:sequential function ex:entities($text as xs:string) as element(ex:entity)*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name><xqdoc:type>xs:string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">element(ex:entity)*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>integer</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>replace</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>server-connection</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Uses Yahoo's Content Analysis webservice to return a list of categories (topics) related
 to the text supplied as input.</p>
 <p>See http://developer.yahoo.com/search/content/V2/contentAnalysis.html for more information.</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:return>Sequence of recognized categories</xqdoc:return><xqdoc:custom tag="example">test/Queries/categories.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>ex:categories</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="ann" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %ann:sequential function ex:categories($text) as element(ex:category)*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">element(ex:category)*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>server-connection</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Uses Yahoo's Content Analysis webservice to return a list of relations (entities found and related wikipedia links)
 encountered in the text supplied as input.</p>
 <p>See http://developer.yahoo.com/search/content/V2/contentAnalysis.html for more information.</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:return>Sequence of recognized relations</xqdoc:return><xqdoc:custom tag="example">test/Queries/relations.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>ex:relations</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="ann" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %ann:sequential function ex:relations($text) as element(ex:relation)*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">element(ex:relation)*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>replace</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>server-connection</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Uses Yahoo's Content Analysis webservice to return a list of concepts (entity found and the corresponding wikipedia link)
 encountered in the text supplied as input.</p>
 <p>See http://developer.yahoo.com/search/content/V2/contentAnalysis.html for more information.</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:return>Sequence of recognized concepts</xqdoc:return><xqdoc:custom tag="example">test/Queries/concepts.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>ex:concepts</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="ann" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %ann:sequential function ex:concepts($text) as element(ex:concept)*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">element(ex:concept)*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2001/XMLSchema</xqdoc:uri><xqdoc:name>integer</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>replace</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>server-connection</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Uses Yahoo's Content Analysis webservice to return the text supplied as input
 together with entities recognized annotated as xml elements in the text.</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:return>Mixed sequence of strings and &lt;ex:entity&gt; elements</xqdoc:return><xqdoc:custom tag="example">test/Queries/entities-inline.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>ex:entities-inline</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="ann" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %ann:sequential function ex:entities-inline($text) as item()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">item()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>entities</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>entity-inline-annotation</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Uses Yahoo's Content Analysis webservice to return the text supplied as input
 together with concepts (entities with corresponding wikipedia link) annotated
 as xml elements in the text.</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:return>Mixed sequence of strings and &lt;ex:concept&gt; elements</xqdoc:return><xqdoc:custom tag="example">test/Queries/concepts-inline.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>ex:concepts-inline</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="ann" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %ann:sequential function ex:concepts-inline($text) as item()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">item()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="3"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>concept-inline-annotation</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>concepts</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="3"><xqdoc:comment><xqdoc:description> <p>Creates entities inline annotations in a given string</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:param>$entities list of entities found in the given string</xqdoc:param><xqdoc:param>$size size of the remaining string</xqdoc:param><xqdoc:return>Mixed sequence of strings and &lt;ex:entity&gt; elements</xqdoc:return></xqdoc:comment><xqdoc:name>ex:entity-inline-annotation</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function ex:entity-inline-annotation($text, $entities, $size) as item()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>entities</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>size</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">item()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>count</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="0"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>position</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>substring</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>substring</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>entity-inline-annotation</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="3"><xqdoc:comment><xqdoc:description> <p>Creates concepts inline annotations in a given string</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:param>$concepts list of concepts found in the given string</xqdoc:param><xqdoc:param>$size size of the remaining string</xqdoc:param><xqdoc:return>Mixed sequence of strings and &lt;ex:concept&gt; elements</xqdoc:return></xqdoc:comment><xqdoc:name>ex:concept-inline-annotation</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function ex:concept-inline-annotation($text, $concepts, $size) as item()*</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>concepts</xqdoc:name></xqdoc:parameter><xqdoc:parameter><xqdoc:name>size</xqdoc:name></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type occurrence="*">item()*</xqdoc:type></xqdoc:return><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>count</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="0"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>position</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>substring</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>substring</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://zorba.io/modules/info-extraction</xqdoc:uri><xqdoc:name>concept-inline-annotation</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>Establishes connection with the Yahoo Server</p>
</xqdoc:description><xqdoc:param>$text String to be analyzed</xqdoc:param><xqdoc:return>XML document returned by the Yahoo Server</xqdoc:return></xqdoc:comment><xqdoc:name>ex:server-connection</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/><xqdoc:annotation prefix="ann" namespace="http://zorba.io/annotations" localname="sequential" value=""/></xqdoc:annotations><xqdoc:signature>declare %private %ann:sequential function ex:server-connection($text as xs:string)</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>text</xqdoc:name><xqdoc:type>xs:string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:invoked arity="2"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>concat</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>iri-to-uri</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>normalize-space</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.w3.org/2005/xpath-functions</xqdoc:uri><xqdoc:name>replace</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="3"><xqdoc:uri>http://www.zorba-xquery.com/modules/http-client</xqdoc:uri><xqdoc:name>send-request</xqdoc:name></xqdoc:invoked></xqdoc:function></xqdoc:functions></xqdoc:xqdoc>