<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0"><xqdoc:control><xqdoc:date>2013-12-04T01:28:38.942159+01:00</xqdoc:date><xqdoc:version>1.0</xqdoc:version></xqdoc:control><xqdoc:module type="library"><xqdoc:uri>http://www.zorba-xquery.com/modules/converters/html</xqdoc:uri><xqdoc:name>html</xqdoc:name><xqdoc:comment><xqdoc:description> <p>
 This module provides functions to <a href="http://www.w3.org/People/Raggett/tidy/" target="_blank">tidy</a> a HTML document. <br/>
 The functions in this module take an HTML document (a string) as parameter,
 tidy it in order to result in valid XHTML, and return this XHTML document as a document-node.
 </p>
</xqdoc:description><xqdoc:author>Sorin Nasoi</xqdoc:author><xqdoc:custom tag="library"><a href="http://tidy.sourceforge.net/">Tidy C++ Library</a></xqdoc:custom><xqdoc:custom tag="project">Zorba/Data Converters/HTML</xqdoc:custom><xqdoc:custom tag="language">xquery</xqdoc:custom><xqdoc:custom tag="version">3.0</xqdoc:custom><xqdoc:custom tag="encoding">utf-8</xqdoc:custom></xqdoc:comment><xqdoc:custom tag="namespaces"><xqdoc:namespace prefix="err" uri="http://ww.w3.org/2005/xqt-errors" isSchema="false"/><xqdoc:namespace prefix="html" uri="http://www.zorba-xquery.com/modules/converters/html" isSchema="false"/><xqdoc:namespace prefix="html-options" uri="http://www.zorba-xquery.com/modules/converters/html-options" isSchema="true"/><xqdoc:namespace prefix="schema" uri="http://zorba.io/modules/schema" isSchema="false"/><xqdoc:namespace prefix="ver" uri="http://zorba.io/options/versioning" isSchema="false"/></xqdoc:custom></xqdoc:module><xqdoc:imports><xqdoc:import type="schema"><xqdoc:uri>http://www.zorba-xquery.com/modules/converters/html-options</xqdoc:uri></xqdoc:import><xqdoc:import type="library"><xqdoc:uri>http://zorba.io/modules/schema</xqdoc:uri><xqdoc:comment><xqdoc:description> Import module for checking if html options element is validated.
</xqdoc:description></xqdoc:comment></xqdoc:import></xqdoc:imports><xqdoc:variables/><xqdoc:collections/><xqdoc:indexes/><xqdoc:functions><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> <p>This function tidies the given HTML string and returns
 a valid XHTML document node.</p>
 <p>This functions automatically sets the following tidying parameters:
   <ul>
    <li>output-xml=yes</li>
    <li>doctype=omit</li>
    <li>quote-nbsp=no</li>
    <li>char-encoding=utf8</li>
    <li>newline=LF</li>
    <li>tidy-mark=no</li>
   </ul>
 </p>
</xqdoc:description><xqdoc:param>$html the HTML string to tidy</xqdoc:param><xqdoc:return>the tidied XML document</xqdoc:return><xqdoc:error>html:InternalError if an internal error occurred while tidying the string.</xqdoc:error><xqdoc:custom tag="example">test/Queries/tidy_2.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>html:parse</xqdoc:name><xqdoc:signature>declare function html:parse($html as xs:string) as document()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>html</xqdoc:name><xqdoc:type>xs:string</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>document()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/converters/html</xqdoc:uri><xqdoc:name>parse-internal</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:comment><xqdoc:description> <p>This function tidies the given HTML string and returns
 a valid XHTML document node.</p>
 <p>The second parameter allows to specify options that
 configure the tidy process. This parameter is a sequence
 of name=value pairs. Allowed parameter names and values
 are documented at <a href="http://tidy.sourceforge.net/docs/quickref.html">
 http://tidy.sourceforge.net/docs/quickref.html</a>.</p>
</xqdoc:description><xqdoc:param>$html the HTML string to tidy</xqdoc:param><xqdoc:param>$options a set of name and value pairs that provide options to configure the tidy process that have to be validated against the "http://www.zorba-xquery.com/modules/converters/html-options" schema.</xqdoc:param><xqdoc:return>the tidied XHTML document node</xqdoc:return><xqdoc:error>err:XQDY0027 if $options can not be validated against the html-options schema</xqdoc:error><xqdoc:error>html:TidyOption if there was an error with one of the options in the $options parameter that couldn't have been caught by validating against the schema</xqdoc:error><xqdoc:error>html:InternalError if an internal error occurred while tidying the string.</xqdoc:error><xqdoc:custom tag="example">test/Queries/tidy_1.xq</xqdoc:custom></xqdoc:comment><xqdoc:name>html:parse</xqdoc:name><xqdoc:signature>declare function html:parse($html as xs:string, $options as element(html-options:options)) as document()</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>html</xqdoc:name><xqdoc:type>xs:string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>element(html-options:options)</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>document()</xqdoc:type></xqdoc:return><xqdoc:invoked arity="2"><xqdoc:uri>http://www.zorba-xquery.com/modules/converters/html</xqdoc:uri><xqdoc:name>parse-internal</xqdoc:name></xqdoc:invoked><xqdoc:invoked arity="1"><xqdoc:uri>http://zorba.io/modules/schema</xqdoc:uri><xqdoc:name>is-validated</xqdoc:name></xqdoc:invoked></xqdoc:function><xqdoc:function arity="2"><xqdoc:name>html:parse-internal</xqdoc:name><xqdoc:annotations><xqdoc:annotation prefix="" namespace="http://www.w3.org/2005/xpath-functions" localname="private" value=""/></xqdoc:annotations><xqdoc:signature>declare %private function html:parse-internal($html as xs:string, $options as element(html-options:options)) as document() external</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>html</xqdoc:name><xqdoc:type>xs:string</xqdoc:type></xqdoc:parameter><xqdoc:parameter><xqdoc:name>options</xqdoc:name><xqdoc:type>element(html-options:options)</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>document()</xqdoc:type></xqdoc:return></xqdoc:function></xqdoc:functions></xqdoc:xqdoc>