<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0"><xqdoc:control><xqdoc:date>2013-12-04T01:28:38.942159+01:00</xqdoc:date><xqdoc:version>1.0</xqdoc:version></xqdoc:control><xqdoc:module type="library"><xqdoc:uri>http://zorba.io/modules/store/static/integrity-constraints/ddl</xqdoc:uri><xqdoc:name>ddl</xqdoc:name><xqdoc:comment><xqdoc:description> This module defines a set of functions to manage integrity constraints
 that are declared in the prolog of a module.
 For example, it provides functions to activate or deactivate integrity
 constraints.
 <p/>
 This module is part of
 <a href="http://zorba.io/documentation/latest/zorba/specifications/xqddf">Zorba's XQuery Data Definition Facility</a>.
 All the integrity constraints managed by this module have to be pre-declared
 in the prolog of a module.
 Please refer to the
 <a href="http://zorba.io/documentation/latest/zorba/architecture/data_lifecycle">general documentation</a>
 for more information and examples.
</xqdoc:description><xqdoc:author>Nicolae Brinza, Matthias Brantner, David Graf, Till Westmann, Markos Zaharioudakis</xqdoc:author><xqdoc:see><a href="http://zorba.io/documentation/latest/zorba/architecture/data_lifecycle">Data Lifecycle</a></xqdoc:see><xqdoc:see><a href="http://zorba.io/documentation/latest/zorba/specifications/xqddf">XQuery Data Definition Facility</a></xqdoc:see><xqdoc:see>http://zorba.io/modules/latest/zorba.io/modules/store/static/collections/dml</xqdoc:see><xqdoc:see>http://zorba.io/modules/latest/zorba.io/modules/store/static/collections/ddl</xqdoc:see><xqdoc:see>http://zorba.io/modules/latest/zorba.io/modules/store/static/indexes/ddl</xqdoc:see><xqdoc:see>http://zorba.io/modules/latest/zorba.io/modules/store/static/indexes/dml</xqdoc:see><xqdoc:see>http://zorba.io/modules/latest/zorba.io/modules/store/static/integrity-constraints/dml</xqdoc:see><xqdoc:see>http://zorba.io/modules/latest/zorba.io/errors</xqdoc:see><xqdoc:custom tag="project">Zorba/Data Store/Integrity Constraints/Static Data Definition</xqdoc:custom><xqdoc:custom tag="language">xquery</xqdoc:custom><xqdoc:custom tag="version">3.0</xqdoc:custom><xqdoc:custom tag="encoding">utf-8</xqdoc:custom></xqdoc:comment><xqdoc:custom tag="namespaces"><xqdoc:namespace prefix="icddl" uri="http://zorba.io/modules/store/static/integrity-constraints/ddl" isSchema="false"/><xqdoc:namespace prefix="ver" uri="http://zorba.io/options/versioning" isSchema="false"/><xqdoc:namespace prefix="zerr" uri="http://zorba.io/errors" isSchema="false"/></xqdoc:custom></xqdoc:module><xqdoc:imports/><xqdoc:variables/><xqdoc:collections/><xqdoc:indexes/><xqdoc:functions><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Activates an integrity constraint in the dynamic context.
</xqdoc:description><xqdoc:param>$name The name of the integrity constraint to activate.</xqdoc:param><xqdoc:return>An empty XDM instance and a pending update list that consists of a <code>upd:activateIntegrityConstraint($name)</code> update primitive.</xqdoc:return><xqdoc:error>zerr:ZDDY0031 if the integrity constraint does not exist in the static context.</xqdoc:error></xqdoc:comment><xqdoc:name>icddl:activate</xqdoc:name><xqdoc:signature>declare updating function icddl:activate($name as xs:QName) external</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>name</xqdoc:name><xqdoc:type>xs:QName</xqdoc:type></xqdoc:parameter></xqdoc:parameters></xqdoc:function><xqdoc:function arity="0"><xqdoc:comment><xqdoc:description> Gets the integrity constraints that are activated, if any.
</xqdoc:description><xqdoc:return>A sequence of QNames, one for each activated integrity constraint, or an empty sequence if none.</xqdoc:return></xqdoc:comment><xqdoc:name>icddl:activated-integrity-constraints</xqdoc:name><xqdoc:signature>declare function icddl:activated-integrity-constraints() as xs:QName* external</xqdoc:signature><xqdoc:return><xqdoc:type occurrence="*">xs:QName*</xqdoc:type></xqdoc:return></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Deactivates the integrity constraint.
</xqdoc:description><xqdoc:param>$name The name of the integrity constraint to deactivate.</xqdoc:param><xqdoc:return>An empty XDM instance and a pending update list that, once applied, deactivates the integrity constraint.</xqdoc:return><xqdoc:error>zerr:ZDDY0032 if the integrity constraint was not declared in the the static context.</xqdoc:error><xqdoc:error>zerr:ZDDY0032 if the integrity constraints is not activated.</xqdoc:error></xqdoc:comment><xqdoc:name>icddl:deactivate</xqdoc:name><xqdoc:signature>declare updating function icddl:deactivate($name as xs:QName) external</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>name</xqdoc:name><xqdoc:type>xs:QName</xqdoc:type></xqdoc:parameter></xqdoc:parameters></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Gets whether an integrity constraints is activated.
</xqdoc:description><xqdoc:param>$name The name of the constraint to check.</xqdoc:param><xqdoc:return>true if the integrity constraint is activated; false otherwise.</xqdoc:return></xqdoc:comment><xqdoc:name>icddl:is-activated-integrity-constraint</xqdoc:name><xqdoc:signature>declare function icddl:is-activated-integrity-constraint($name as xs:QName) as xs:boolean external</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>name</xqdoc:name><xqdoc:type>xs:QName</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>xs:boolean</xqdoc:type></xqdoc:return></xqdoc:function><xqdoc:function arity="1"><xqdoc:comment><xqdoc:description> Gets whether an integrity constraint is declared in the prolog of the static
 context.
</xqdoc:description><xqdoc:param>$name The name of the constraint to check.</xqdoc:param><xqdoc:return>true if the constraint is declared; false otherwise.</xqdoc:return></xqdoc:comment><xqdoc:name>icddl:is-declared-integrity-constraint</xqdoc:name><xqdoc:signature>declare function icddl:is-declared-integrity-constraint($name as xs:QName) as xs:boolean external</xqdoc:signature><xqdoc:parameters><xqdoc:parameter><xqdoc:name>name</xqdoc:name><xqdoc:type>xs:QName</xqdoc:type></xqdoc:parameter></xqdoc:parameters><xqdoc:return><xqdoc:type>xs:boolean</xqdoc:type></xqdoc:return></xqdoc:function><xqdoc:function arity="0"><xqdoc:comment><xqdoc:description> Gets the sequence of QNames representing the integrity constraints that have
 been declared in the prolog of the static context.
</xqdoc:description><xqdoc:return>A sequence of QNames, one for each created integrity constraints, or an emtpy sequence if none.</xqdoc:return></xqdoc:comment><xqdoc:name>icddl:declared-integrity-constraints</xqdoc:name><xqdoc:signature>declare function icddl:declared-integrity-constraints() as xs:QName* external</xqdoc:signature><xqdoc:return><xqdoc:type occurrence="*">xs:QName*</xqdoc:type></xqdoc:return></xqdoc:function></xqdoc:functions></xqdoc:xqdoc>