{ "ns" : "http://www.zorba-xquery.com/modules/jdbc", "description" : " This module contains functions to connect to any JDBC datasource\n using jvm-util module to handle Java interaction.\n", "sees" : [  ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Rodolfo Ochoa</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/annotations", "prefix" : "an" }, { "uri" : "http://www.w3.org/2005/xqt-errors", "prefix" : "err" }, { "uri" : "http://www.zorba-xquery.com/modules/jdbc", "prefix" : "jdbc" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" } ], "functions" : [ { "arity" : 1, "name" : "affected-rows", "qname" : "jdbc:affected-rows", "signature" : "($dataset-id as xs:anyURI) as xs:integer external", "description" : " Return the number of affected rows of a particular DataSet.\n", "summary" : "<p> Return the number of affected rows of a particular DataSet.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "dataset-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a DataSet.</div>" } ], "returns" : { "type" : "xs:integer", "description" : "Returns an xs:integer with the number of affected rows." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL008 DataSet doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "clear-params", "qname" : "jdbc:clear-params", "signature" : "($prepared-statement as xs:anyURI) as empty-sequence() external", "description" : " Clears the current parameter values immediately.\n", "summary" : "<p> Clears the current parameter values immediately.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "close-dataset", "qname" : "jdbc:close-dataset", "signature" : "($dataset-id as xs:anyURI) as empty-sequence() external", "description" : " Closes and free resources from a particular DataSet.\n", "summary" : "<p> Closes and free resources from a particular DataSet.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "dataset-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a DataSet.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL008 DataSet doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "close-prepared", "qname" : "jdbc:close-prepared", "signature" : "($prepared-statement as xs:anyURI) as empty-sequence() external", "description" : " Closes and frees from memory any prepared SQL statement created with jdbc:prepare-statement\n", "summary" : "<p> Closes and frees from memory any prepared SQL statement created with jdbc:prepare-statement\n</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "commit", "qname" : "jdbc:commit", "signature" : "($connection-id as xs:anyURI) as empty-sequence() external", "description" : " Commit current transaction from an active connection.\n", "summary" : "<p> Commit current transaction from an active connection.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to the connection to be commited.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message</xqdoc:error>" ] }, { "arity" : 1, "name" : "connect", "qname" : "jdbc:connect", "signature" : "($connection-config as object()) as xs:anyURI external", "description" : " Opens a connection to a database.\n Returns a URI identifying the connection that has been opened. The implementing code determines from the $connection-config either explicitly (interpreting the driver attribute) or implicitly (using the type attribute) which driver it has to load.\n", "summary" : "<p> Opens a connection to a database.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-config", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> json object that has the host and user informations.</div>" } ], "returns" : { "type" : "xs:anyURI", "description" : "Return an identifier that represents the connection to the server. Connection coonfiguration example: { \"url\" : \"jdbc:mysql://localhost/\", \"user\" : \"root\", \"password\" : \"\" }" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL28000 Authentication failed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08001 Connection error.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL40003 Isolation level not supported.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see attached message.</xqdoc:error>" ] }, { "arity" : 2, "name" : "connect", "qname" : "jdbc:connect", "signature" : "($connection-config as object(), $options as object()?) as xs:anyURI external", "description" : " Opens a connection to a database with specified options.\n Returns a URI identifying the connection that has been opened. The implementing code determines from the $connection-config either explicitly (interpreting the driver attribute) or implicitly (using the type attribute) which driver it has to load.\n", "summary" : "<p> Opens a connection to a database with specified options.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-config", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> json object that has the host and user informations.</div>" }, { "name" : "options", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> json object that specifies the connection options.</div>" } ], "returns" : { "type" : "xs:anyURI", "description" : "Return an identifier that represents the connection to the server. Connection options example: { \"autocommit\" : false, \"readonly\"? : true, \"isolation-level\"? : $jdbc:READ-COMMITTED }" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL28000 Authentication failed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08001 Connection error.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL40003 Isolation level not supported.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "connection-options", "qname" : "jdbc:connection-options", "signature" : "($connection-id as xs:anyURI) as object() external", "description" : " Returns a set with options for a specified connection.\n", "summary" : "<p> Returns a set with options for a specified connection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to the connection to be verify.</div>" } ], "returns" : { "type" : "object()", "description" : "Returns and object with the connection options. The returned options are equal to the options specified in function jdbc:connect. Consequently, the options are specified as follows: { \"autocommit\" : xs:boolean, \"readonly\" : xs:boolean, \"isolation-level\" : xs:string }" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message</xqdoc:error>" ] }, { "arity" : 1, "name" : "execute-prepared", "qname" : "jdbc:execute-prepared", "signature" : "($prepared-statement as xs:anyURI) as xs:anyURI external", "description" : " Executes SQL statements prepared with 5.1 jsql:prepare-statement with values set\n and returns an identifier to a Dataset.\n", "summary" : "<p> Executes SQL statements prepared with 5.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" } ], "returns" : { "type" : "xs:anyURI", "description" : "Return an identifier that represents a DataSet." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "execute-query-prepared", "qname" : "jdbc:execute-query-prepared", "signature" : "($prepared-statement as xs:anyURI) as object()* external", "description" : " Executes a non-updating SQL statement prepared with 5.1 jsql:prepare-statement.\n", "summary" : "<p> Executes a non-updating SQL statement prepared with 5.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" } ], "returns" : { "type" : "object()*", "description" : "Return an object with the result data rows from the query processed with the parameter values provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL005 The prepared statement is an updating query.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 2, "name" : "execute-query", "qname" : "jdbc:execute-query", "signature" : "($connection-id as xs:anyURI, $sql as xs:string) as object()* external", "description" : " Executes non-updating SQL statements.\n", "summary" : "<p> Executes non-updating SQL statements.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to an active connection.</div>" }, { "name" : "sql", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The query string to be executed.</div>" } ], "returns" : { "type" : "object()*", "description" : "Return an object with the result data rows from the query provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL005 The statement is Updating type.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "execute-update-prepared", "qname" : "jdbc:execute-update-prepared", "signature" : "($prepared-statement as xs:anyURI) as xs:integer external", "description" : " Executes an updating SQL statement prepared with 5.1 jsql:prepare-statement.\n", "summary" : "<p> Executes an updating SQL statement prepared with 5.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" } ], "returns" : { "type" : "xs:integer", "description" : "Returns an xs:integer with the number of affected rows." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL006 The prepared statement is a non-updating query.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 2, "name" : "execute-update", "qname" : "jdbc:execute-update", "signature" : "($connection-id as xs:anyURI, $sql as xs:string) as xs:integer external", "description" : " Executes updating SQL statements.\n", "summary" : "<p> Executes updating SQL statements.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to an active connection.</div>" }, { "name" : "sql", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The query string to be executed.</div>" } ], "returns" : { "type" : "xs:integer", "description" : "Returns an xs:integer with the number of affected rows." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL005 The statement is Read-only type.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 2, "name" : "execute", "qname" : "jdbc:execute", "signature" : "($connection-id as xs:anyURI, $sql as xs:string) as xs:anyURI external", "description" : " Executes any kind of SQL statement.\n", "summary" : "<p> Executes any kind of SQL statement.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to an active connection.</div>" }, { "name" : "sql", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The query string to be executed.</div>" } ], "returns" : { "type" : "xs:anyURI", "description" : "Return an identifier that represents a DataSet." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "is-connected", "qname" : "jdbc:is-connected", "signature" : "($connection-id as xs:anyURI) as xs:boolean external", "description" : " Verify if a connection is still active.\n", "summary" : "<p> Verify if a connection is still active.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to the connection to be verify.</div>" } ], "returns" : { "type" : "xs:boolean", "description" : "Returns true if connected." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message</xqdoc:error>" ] }, { "arity" : 1, "name" : "metadata", "qname" : "jdbc:metadata", "signature" : "($dataset-id as xs:anyURI) as object() external", "description" : " Return the metadata of the result of a particular DataSet.\n", "summary" : "<p> Return the metadata of the result of a particular DataSet.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "dataset-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a DataSet.</div>" } ], "returns" : { "type" : "object()", "description" : "This function returns the metadata associated with an executed DataSet. More in detail, it returns information about column names, types, and whether a column can contain a null value. The metadata information can only be returned for DataSets that have been executed explicitly using the jsql:execute function. The metadata node returned by this function is defined as follows: { \"columns\": [ { \"name\": xs:string, \"type\": xs:string, \"autoincrement\"? = xs:boolean, \"nillable\"? = xs:boolean } * ] }" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL008 DataSet doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "parameter-metadata", "qname" : "jdbc:parameter-metadata", "signature" : "($prepared-statement as xs:anyURI) as object() external", "description" : " Retrieves the number, types and properties of the prepared statement parameters.\n", "summary" : "<p> Retrieves the number, types and properties of the prepared statement parameters.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" } ], "returns" : { "type" : "object()", "description" : "This function returns the parameters metadata associated with a prepared statement. In other words, it returns information about the column name associated with the parameter, the type, etc. The metadata node returned by this function is defined as follows: { columns: [{ \"name\": xs:string, \"type\": xs:string }] }" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 2, "name" : "prepare-statement", "qname" : "jdbc:prepare-statement", "signature" : "($connection-id as xs:anyURI, $sql as xs:string) as xs:anyURI external", "description" : "  Creates a prepared statement for multiple executions with diferent values.\n", "summary" : "<p>  Creates a prepared statement for multiple executions with diferent values.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to an active connection.</div>" }, { "name" : "sql", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The query string to be executed.</div>" } ], "returns" : { "type" : "xs:anyURI", "description" : "Return an identifier that represents the prepared statement. Example: jsql:prepare-statement($connection, \"SELECT * FROM users WHERE id=? AND age&gt;?\")" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "result-set", "qname" : "jdbc:result-set", "signature" : "($dataset-id as xs:anyURI) as object()* external", "description" : " This function returns a sequence of objects representing the rows of data from a non-updating query.\n", "summary" : "<p> This function returns a sequence of objects representing the rows of data from a non-updating query.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "dataset-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a DataSet.</div>" } ], "returns" : { "type" : "object()*", "description" : "Return an object with the result data rows from the DataSet provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL008 DataSet doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "rollback", "qname" : "jdbc:rollback", "signature" : "($connection-id as xs:anyURI) as empty-sequence() external", "description" : " Rollback the current transaction of a connection.\n", "summary" : "<p> Rollback the current transaction of a connection.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to the connection to be rollbacked.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08003 Connection doesn't exist</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message</xqdoc:error>" ] }, { "arity" : 3, "name" : "set-boolean", "qname" : "jdbc:set-boolean", "signature" : "($prepared-statement as xs:anyURI, $parameter-index as xs:integer, $value as xs:boolean) as empty-sequence() external", "description" : " Set the value of the designated parameter with the given value, this function will assign only boolean values.\n", "summary" : "<p> Set the value of the designated parameter with the given value, this function will assign only boolean values.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" }, { "name" : "parameter-index", "type" : "xs:integer", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The index from the parameter to be set.</div>" }, { "name" : "value", "type" : "xs:boolean", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The value to be set.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL007 Parameter casting error.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 2, "name" : "set-null", "qname" : "jdbc:set-null", "signature" : "($prepared-statement as xs:anyURI, $parameter-index as xs:integer) as empty-sequence() external", "description" : " Set the value of the designated parameter with the given value, this function will assign only null values if possible.\n", "summary" : "<p> Set the value of the designated parameter with the given value, this function will assign only null values if possible.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" }, { "name" : "parameter-index", "type" : "xs:integer", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The index from the parameter to be set.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL007 Parameter casting error.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 3, "name" : "set-numeric", "qname" : "jdbc:set-numeric", "signature" : "($prepared-statement as xs:anyURI, $parameter-index as xs:decimal, $value as xs:anyAtomicType) as empty-sequence() external", "description" : " Set the value of the designated parameter with the given value, this function will assign only numeric values.\n", "summary" : "<p> Set the value of the designated parameter with the given value, this function will assign only numeric values.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" }, { "name" : "parameter-index", "type" : "xs:decimal", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The index from the parameter to be set.</div>" }, { "name" : "value", "type" : "xs:anyAtomicType", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The value to be set.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL007 Parameter casting error.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 3, "name" : "set-string", "qname" : "jdbc:set-string", "signature" : "($prepared-statement as xs:anyURI, $parameter-index as xs:integer, $value as xs:string) as empty-sequence() external", "description" : " Set the value of the designated parameter with the given value, this function will assign only string values.\n", "summary" : "<p> Set the value of the designated parameter with the given value, this function will assign only string values.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" }, { "name" : "parameter-index", "type" : "xs:integer", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The index from the parameter to be set.</div>" }, { "name" : "value", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The value to be set.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL007 Parameter casting error.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 3, "name" : "set-value", "qname" : "jdbc:set-value", "signature" : "($prepared-statement as xs:anyURI, $parameter-index as xs:decimal, $value as xs:anyAtomicType) as empty-sequence() external", "description" : " Set the value of the designated parameter with the given value,\n this function will assign any value you send\n and it will try to cast to the correct type.\n", "summary" : "<p> Set the value of the designated parameter with the given value,\n this function will assign any value you send\n and it will try to cast to the correct type.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "prepared-statement", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a prepared statement.</div>" }, { "name" : "parameter-index", "type" : "xs:decimal", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The index from the parameter to be set.</div>" }, { "name" : "value", "type" : "xs:anyAtomicType", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The value to be set.</div>" } ], "returns" : { "type" : "empty-sequence()", "description" : "This function returns an empty-sequence()" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL003 Prepared statement doesn't exist.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL007 Parameter casting error.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 1, "name" : "tables", "qname" : "jdbc:tables", "signature" : "($connection-id as xs:anyURI) as object()*", "description" : " Return the list of tables from a connection\n", "summary" : "<p> Return the list of tables from a connection\n</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a connection.</div>" } ], "returns" : { "type" : "object()*", "description" : "Return an object with the result data rows from the query provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] }, { "arity" : 4, "name" : "tables", "qname" : "jdbc:tables", "signature" : "($connection-id as xs:anyURI, $catalog as xs:string?, $schema as xs:string?, $table as xs:string?) as object()* external", "description" : " Return the list of tables from a connection\n", "summary" : "<p> Return the list of tables from a connection\n</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "connection-id", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The identifier to a connection.</div>" }, { "name" : "catalog", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A filter of the catalog name of the tables. Send empty-sequence for all tables.</div>" }, { "name" : "schema", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A filter of the schema name of the tables. Send empty-sequence for all tables.</div>" }, { "name" : "table", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> A filter of the name of the tables. Send empty-sequence for all tables.</div>" } ], "returns" : { "type" : "object()*", "description" : "Return an object with the result data rows from the query provided, the data rows are defined as follows: { column:value* }* Every row is represented by an object of column-value representation of the returned SQL result." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL08000 Connection is closed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">SQL001 Descriptive error, see error in attached message.</xqdoc:error>" ] } ], "variables" : [ { "name" : "jdbc:NOT-SUPPORTED", "type" : "item()*", "description" : " This variable represents the NOT-SUPPORTED level for Isolation Levels in $options for 2.2 connect function.\n" }, { "name" : "jdbc:READ-COMMITTED", "type" : "item()*", "description" : " This variable represents the READ-COMMITTED level for Isolation Levels in $options for 2.2 connect function.\n" }, { "name" : "jdbc:READ-UNCOMMITTED", "type" : "item()*", "description" : " This variable represents the READ-UNCOMMITTED level for Isolation Levels in $options for 2.2 connect function.\n" }, { "name" : "jdbc:REPEATABLE-READ", "type" : "item()*", "description" : " This variable represents the REPEATABLE-READ level for Isolation Levels in $options for 2.2 connect function.\n" }, { "name" : "jdbc:SERIALIZABLE", "type" : "item()*", "description" : " This variable represents the SERIALIZABLE level for Isolation Levels in $options for 2.2 connect function.\n" } ] }