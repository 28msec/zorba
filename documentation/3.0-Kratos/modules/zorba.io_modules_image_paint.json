{ "ns" : "http://zorba.io/modules/image/paint", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This module provides a function to extend an image with additional shapes.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Fully supported image formats are:</p>\n <ul xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <li>GIF</li>\n   <li>JPEG</li>\n   <li>PNG</li>\n   <li>TIFF</li>\n   <li>BMP</li>\n </ul>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The errors raised by functions of this module have the namespace\n <tt>http://zorba.io/modules/image/error</tt> (associated with prefix ierr).</p>\n", "sees" : [  ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Daniel Thomas</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://www.w3.org/2005/xqt-errors", "prefix" : "err" }, { "uri" : "http://zorba.io/modules/image/error", "prefix" : "ierr" }, { "uri" : "http://zorba.io/modules/image/image", "prefix" : "img" }, { "uri" : "http://zorba.io/modules/image/paint", "prefix" : "paint" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" } ], "functions" : [ { "arity" : 2, "name" : "paint", "qname" : "paint:paint", "signature" : "($image as xs:base64Binary, $shapes as object()*) as xs:base64Binary", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Extends the passed image with a sequence of shapes.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The shapes are passed as a sequence of elements.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The possibilities for shape elements are:</p>\n    <ul xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n      <li> line:\n        <pre class=\"brush: json\">\n          {\n            \"line\" :\n            {\n              \"start\" : [0, 0],\n              \"end\" : [80, 80]\n            }\n          }\n          </pre>\n      </li>\n       <li> polyline:\n         <pre class=\"\">\n           {\n             \"polyLine\" :\n             {\n               \"points\" : [ [10, 10], [30, 10], [30, 30], [10, 30] ]\n             }\n           }\n         </pre>\n       </li>\n       <li> stroked polyline:\n         <pre class=\"brush: xml\">\n           {\n             \"strokedPolyLine\" :\n             {\n               \"points\" : [ [10, 10], [40, 80], [50, 30] ],\n               \"strokeLength\" : 10,\n               \"gapLength\" : 2\n             }\n           }\n         </pre>\n       </li>\n       <li> rectangle:\n         <pre class=\"brush: xml\">\n           {\n             \"rectangle\" :\n             {\n               \"upperLeft\" : [ 20, 20 ],\n               \"lowerRight\" : [ 50, 50 ]\n             }\n           }\n         </pre>\n       </li>\n       <li> rounded rectangle:\n         <pre class=\"brush: json\">\n           { \"roundedRectangle\" :\n             {\n               \"upperLeft\" : [ 20, 20 ],\n               \"lowerRight\" : [ 50, 50 ],\n               \"cornerWidth\" : 10,\n               \"cornerHeight\" : 10\n             }\n           }\n         </pre>\n       </li>\n       <li> circle:\n         <pre class=\"brush: json\">\n           {\n             \"circle\" :\n             {\n               \"origin\" : [ 50, 50 ],\n               \"radius\" : 5\n             }\n           }\n         </pre>\n       </li>\n       <li> ellipse:\n         <pre class=\"brush: json\">\n           {\n             \"ellipse\" :\n             {\n               \"origin\" : [ 50, 50 ],\n               \"radiusX\" : 30,\n               \"radiusY\" : 20\n             }\n           }\n         </pre>\n       </li>\n       <li> arc:\n         <pre class=\"brush: json\">\n           {\n             \"arc\" :\n             {\n               \"origin\" : [ 50, 50 ],\n               \"radiusX\" : 10,\n               \"radiusY\" : 20,\n               \"startDegrees\" : 180,\n               \"endDegrees\" : 270\n             }\n           }\n         </pre>\n       </li>\n       <li> polygon:\n         <pre class=\"brush: json\">\n           {\n             \"polygon\" :\n             {\n               \"points\" : [ [10, 10], [30, 10], [30, 30] ]\n             }\n           }\n         </pre>\n       </li>\n       <li> text:\n         <pre class=\"brush: json\">\n           {\n             \"text\" :\n             {\n               \"origin\" : [ 50, 50 ],\n               \"text\" : \"Hello World!\",\n               \"font\" : \"Arial\",\n               \"font-size\" : 12\n             }\n           }\n         </pre>\n       </li>\n     </ul>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Optionally, each of the shape elements can contain elements to define the stroke with, stroke color, fill color, and anti-aliasing.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">E.g.:</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">\n   <pre class=\"brush: json\">\n     {\n       \"polygon\" :\n       {\n         \"strokeWidth\" : 3,\n         \"strokeColor\" : \"#FF0000\",\n         \"fillColor\" : \"#00FF00\",\n         \"antiAliasing\" : fn:true(),\n         \"points\" : [ [ 10, 10 ], [ 40, 80 ], [ 50, 30 ] ]\n       }\n     }\n   </pre>\n  </p>\n", "summary" : "<p>  Extends the passed image with a sequence of shapes.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "image", "type" : "xs:base64Binary", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the passed image</div>" }, { "name" : "shapes", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the shapes</div>" } ], "returns" : { "type" : "xs:base64Binary", "description" : "image with additional shapes" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">ierr:INVALID_IMAGE the passed image is invalid.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">err::XPTY0004 empty sequence not allowed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">err:FORG0001 one of the passed shape objects is invalid.</xqdoc:error>" ] } ], "variables" : [  ] }