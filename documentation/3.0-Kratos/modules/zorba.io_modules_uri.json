{ "ns" : "http://zorba.io/modules/uri", "description" : " This module provides functions for processing URIs and URLs.\n", "sees" : [  ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Matthias Brantner, Luis Rodriguez Gonzalez</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/modules/uri", "prefix" : "uri" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" }, { "uri" : "http://zorba.io/errors", "prefix" : "zerr" } ], "functions" : [ { "arity" : 1, "name" : "decode", "qname" : "uri:decode", "signature" : "($u as xs:string) as xs:string", "description" : " Percent-decodes (aka URL decoding) the given string.\n All percent encoded octets will be translated into their\n decoded UTF-8 representation.\n Please note that the percent encoding guarantees that a string\n consists of ASCII characters only. Passing a string that contains\n non-ASCII characters results in undefined behavior.\n", "summary" : "<p> Percent-decodes (aka URL decoding) the given string.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "u", "type" : "xs:string", "occurence" : null, "description" : "" } ], "returns" : { "type" : "xs:string", "description" : "the percent decoded string" }, "errors" : [  ] }, { "arity" : 2, "name" : "decode", "qname" : "uri:decode", "signature" : "($u as xs:string, $decode-plus as xs:boolean) as xs:string", "description" : " Percent-decodes (aka URL decoding) the given string.\n All percent encoded octets will be translated into their\n decoded UTF-8 representation.\n If $decode-plus is specified all occurrences of the char '+'\n will be replaced with a space ' ' before the percent decoding\n happens.\n Please note that the percent encoding guarantees that a string\n consists of ASCII characters only. Passing a string that contains\n non-ASCII characters results in undefined behavior.\n", "summary" : "<p> Percent-decodes (aka URL decoding) the given string.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "u", "type" : "xs:string", "occurence" : null, "description" : "" }, { "name" : "decode-plus", "type" : "xs:boolean", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> whether '+' chars will be replaced with spaces</div>" } ], "returns" : { "type" : "xs:string", "description" : "the percent decoded string" }, "errors" : [  ] }, { "arity" : 3, "name" : "decode", "qname" : "uri:decode", "signature" : "($s as xs:string, $decode-plus as xs:boolean, $charset as xs:string) as xs:string external", "description" : " Percent-decodes (aka URL decoding) the given string.\n All percent encoded octets will be translated into their\n decoded UTF-8 representation.\n If $decode-plus is specified all occurrences of the char '+'\n will be replaced with a space ' ' before the percent decoding\n happens.\n The $charset parameter specifies the source charset after precent\n decoding. It is used to convert the decoded string into UTF-8.\n Please note that the percent encoding guarantees that a string\n consists of ASCII characters only. Passing a string that contains\n non-ASCII characters results in undefined behavior.\n", "summary" : "<p> Percent-decodes (aka URL decoding) the given string.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "s", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the string to decode</div>" }, { "name" : "decode-plus", "type" : "xs:boolean", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> whether '+' chars will be replaced with spaces</div>" }, { "name" : "charset", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the source charset of the string after percent decoding</div>" } ], "returns" : { "type" : "xs:string", "description" : "the percent decoded string" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">uri:CHARSET_UNKNOWN if the given charset is unknown or not supported</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZOSE0006 if there is an error transcoding the string</xqdoc:error>" ] }, { "arity" : 1, "name" : "parse", "qname" : "uri:parse", "signature" : "($uri as xs:string) as object() external", "description" : " Parses the URI passed as string. The returned object\n contains only members with field names declared as constants in\n this module.\n For example,\n <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" class=\"ace-static\" ace-mode=\"xquery\">\n let my-uri := \"http://www.my.project.com/a/b/c?user=john;pass=1234#profile\"\n return uri:parse(my-uri)\n </pre>\n returns\n <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" class=\"ace-static\" ace-mode=\"java\">\n { \"squeme\" : \"http\", \"host\" : \"www.my.project.com\", \"path\" : \"/a/b/c\",\n   \"query\" : \"user=john;pass=123\", \"fragment\" : \"profile\" }\n </pre>\n", "summary" : "<p> Parses the URI passed as string.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "uri", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the URI to parse</div>" } ], "returns" : { "type" : "object()", "description" : "the JSON object" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">err:XQST0046 if the URI is textually invalid</xqdoc:error>" ] }, { "arity" : 1, "name" : "serialize", "qname" : "uri:serialize", "signature" : "($uri as object()) as xs:string external", "description" : " Serialize the URI passed as object into a string.\n", "summary" : "<p> Serialize the URI passed as object into a string.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "uri", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the object representing the URI</div>" } ], "returns" : { "type" : "xs:string", "description" : "the URI as string" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">uri:OPAQUE_COMB_NOT_VALID if opaque part is specified in conjunction with host/port/path/user-info/query.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">uri:OPAQUE_WITHOUT_SCHEME if opaque part is present but no scheme is present.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">uri:INVALID_ABSOLUTE_PATH if a path component for an absolute URI doesn't start with \"/\".</xqdoc:error>" ] } ], "variables" : [ { "name" : "uri:SCHEME", "type" : "xs:string", "description" : " Constant for the \"scheme\" part of a URI object.\n" }, { "name" : "uri:AUTHORITY", "type" : "xs:string", "description" : " Constant for the \"authority\" part of a URI object.\n" }, { "name" : "uri:USER-INFO", "type" : "xs:string", "description" : " Constant for the \"user-info\" part of a URI object.\n" }, { "name" : "uri:HOST", "type" : "xs:string", "description" : " Constant for the \"host\" part of a URI object.\n" }, { "name" : "uri:PORT", "type" : "xs:string", "description" : " Constant for the \"port\" part of a URI object.\n" }, { "name" : "uri:PATH", "type" : "xs:string", "description" : " Constant for the \"path\" part of a URI object.\n" }, { "name" : "uri:QUERY", "type" : "xs:string", "description" : " Constant for the \"query\" part of a URI object.\n" }, { "name" : "uri:FRAGMENT", "type" : "xs:string", "description" : " Constant for the \"fragment\" part of a URI object.\n" }, { "name" : "uri:OPAQUE-PART", "type" : "xs:string", "description" : " Constant for the \"opaque-part\" part of a URI object.\n If this is set in a URI object, then none of $uri:PATH, $uri:HOST,\n $uri:PORT, $uri:USER-INFO, or : $uri:QUERY may be specified.\n If this is set in a URI object, $uri:SCHEME must also be specified\n (ie, it must be an absolute URI).\n" } ] }