{ "ns" : "http://zorba.io/modules/datetime", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">This module provides functions to retrieve the current dateTime and to\n parse dates and times.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">In contrast to the current-dateTime functions specified in\n <a href=\"http://www.w3.org/TR/xpath-functions-30/\">XQuery Functions and\n Operators</a>, the functions in this module are nondeterministic, that is,\n they do not return the current dateTime from the dynamic context, but return\n the actual value.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Dates and times are parsed according to the format given by\n <a href=\"http://pubs.opengroup.org/onlinepubs/007904975/functions/strptime.html\">strptime</a>.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">However, date and time values must be \"complete.\"</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For a date, the year and either month and day or day of the year must have\n been parsed.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For a time, the hour must have been parsed.\n (If either the minute, second, or timezone has not been parsed, they default\n to 0.)</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">For a dateTime, the parsing requirements of both date and time must be met.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">When a locale is given,\n it must be of the form {lang}[{sep}{country}[{encoding}]] where\n {lang} is an ISO 639-1 2-letter or 639-2 3-letter language code,\n {sep} is either '-' or '_',\n {country} is an ISO 3166-1 2-letter country code,\n and {encoding} is any string that begins with a '.'.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">The {sep}, {country}, and {encoding} are optional;\n {encoding} is always ignored.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Examples include: de, en-US, fr_CA, ru_RU.UTF-8.</p>\n", "sees" : [ "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">http://www.w3.org/TR/xpath-functions/#context</xqdoc:see>" ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Matthias Brantner</xqdoc:author>", "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Paul J. Lucas</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/annotations", "prefix" : "an" }, { "uri" : "http://zorba.io/modules/datetime", "prefix" : "datetime" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" } ], "functions" : [ { "arity" : 0, "name" : "current-date", "qname" : "datetime:current-date", "signature" : "() as xs:date external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Gets the current date value in Universal time.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Note that this function is not stable: it returns the value of the date when\n the function is invoked.</p>\n", "summary" : "<p>  Gets the current date value in Universal time.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [  ], "returns" : { "type" : "xs:date", "description" : "the non-stable date value" }, "errors" : [  ] }, { "arity" : 0, "name" : "current-dateTime", "qname" : "datetime:current-dateTime", "signature" : "() as xs:dateTimeStamp external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Gets the current dateTime value in Universal time.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Note that this function is not stable: it returns the value of the date and\n time when the function is invoked.</p>\n", "summary" : "<p>  Gets the current dateTime value in Universal time.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [  ], "returns" : { "type" : "xs:dateTimeStamp", "description" : "the non-stable datetime value" }, "errors" : [  ] }, { "arity" : 0, "name" : "current-time", "qname" : "datetime:current-time", "signature" : "() as xs:time external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Return the current time value in Universal time.</p>\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Note that this function is not stable: it returns the value of the time when\n the function is invoked.</p>\n", "summary" : "<p>  Return the current time value in Universal time.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [  ], "returns" : { "type" : "xs:time", "description" : "the non-stable time value" }, "errors" : [  ] }, { "arity" : 1, "name" : "millis-to-dateTime", "qname" : "datetime:millis-to-dateTime", "signature" : "($millis as xs:long) as xs:dateTime external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Converts the given number of milliseconds since epoch into its corresponding\n xs:dateTime.</p>\n", "summary" : "<p>  Converts the given number of milliseconds since epoch into its corresponding\n xs:dateTime.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "millis", "type" : "xs:long", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The number of milliseconds since epoch.</div>" } ], "returns" : { "type" : "xs:dateTime", "description" : "Returns an xs:dateTime." }, "errors" : [  ] }, { "arity" : 2, "name" : "parse-date", "qname" : "datetime:parse-date", "signature" : "($input as xs:string, $format as xs:string) as xs:date external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Parses a date from a string in the current locale.</p>\n", "summary" : "<p>  Parses a date from a string in the current locale.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "input", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The string to parse.</div>" }, { "name" : "format", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The format string containing zero or more conversion specifications and ordinary characters. All ordinary characters are matched exactly with the buffer; all whitespace characters match any amount of whitespace in the buffer.</div>" } ], "returns" : { "type" : "xs:date", "description" : "Returns an xs:date." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_SPECIFICATION if $format contains an invalid conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INSUFFICIENT_BUFFER if $input is insufficient for $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_VALUE if $input contains an invalid value for a conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:LITERAL_MISMATCH if there is a literal characer mismatch between $input and $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INCOMPLETE_DATE_OR_TIME if the date is incomplete.</xqdoc:error>" ] }, { "arity" : 3, "name" : "parse-date", "qname" : "datetime:parse-date", "signature" : "($input as xs:string, $format as xs:string, $locale as xs:string) as xs:date external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Parses a date from a string in the given locale.</p>\n", "summary" : "<p>  Parses a date from a string in the given locale.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "input", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The string to parse.</div>" }, { "name" : "format", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The format string containing zero or more conversion specifications and ordinary characters. All ordinary characters are matched exactly with the buffer; all whitespace characters match any amount of whitespace in the buffer.</div>" }, { "name" : "locale", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The locale to use.</div>" } ], "returns" : { "type" : "xs:date", "description" : "Returns an xs:date." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_SPECIFICATION if $format contains an invalid conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INSUFFICIENT_BUFFER if $input is insufficient for $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_VALUE if $input contains an invalid value for a conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:LITERAL_MISMATCH if there is a literal characer mismatch between $input and $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INCOMPLETE_DATE_OR_TIME if the date is incomplete.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_LOCALE if $locale is in an invalid format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:UNKNOWN_LOCALE if $locale is unknown.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:UNSUPPORTED_LOCALE if $locale is unsupported by the operating system.</xqdoc:error>" ] }, { "arity" : 2, "name" : "parse-dateTime", "qname" : "datetime:parse-dateTime", "signature" : "($input as xs:string, $format as xs:string) as xs:dateTime external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Parses a dateTime from a string in the current locale.</p>\n", "summary" : "<p>  Parses a dateTime from a string in the current locale.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "input", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The string to parse.</div>" }, { "name" : "format", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The format string containing zero or more conversion specifications and ordinary characters. All ordinary characters are matched exactly with the buffer; all whitespace characters match any amount of whitespace in the buffer.</div>" } ], "returns" : { "type" : "xs:dateTime", "description" : "Returns an xs:dateTime." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_SPECIFICATION if $format contains an invalid conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INSUFFICIENT_BUFFER if $input is insufficient for $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_VALUE if $input contains an invalid value for a conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:LITERAL_MISMATCH if there is a literal characer mismatch between $input and $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INCOMPLETE_DATE_OR_TIME if either the date or time is incomplete.</xqdoc:error>" ] }, { "arity" : 3, "name" : "parse-dateTime", "qname" : "datetime:parse-dateTime", "signature" : "($input as xs:string, $format as xs:string, $locale as xs:string) as xs:dateTime external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Parses a dateTime from a string in the given locale.</p>\n", "summary" : "<p>  Parses a dateTime from a string in the given locale.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "input", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The string to parse.</div>" }, { "name" : "format", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The format string containing zero or more conversion specifications and ordinary characters. All ordinary characters are matched exactly with the buffer; all whitespace characters match any amount of whitespace in the buffer.</div>" }, { "name" : "locale", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The locale to use.</div>" } ], "returns" : { "type" : "xs:dateTime", "description" : "Returns an xs:dateTime." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_SPECIFICATION if $format contains an invalid conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INSUFFICIENT_BUFFER if $input is insufficient for $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_VALUE if $input contains an invalid value for a conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:LITERAL_MISMATCH if there is a literal characer mismatch between $input and $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INCOMPLETE_DATE_OR_TIME if either the date or time is incomplete.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_LOCALE if $locale is in an invalid format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:UNKNOWN_LOCALE if $locale is unknown.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:UNSUPPORTED_LOCALE if $locale is unsupported by the operating system.</xqdoc:error>" ] }, { "arity" : 2, "name" : "parse-time", "qname" : "datetime:parse-time", "signature" : "($input as xs:string, $format as xs:string) as xs:time external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Parses a time from a string in the current locale.</p>\n", "summary" : "<p>  Parses a time from a string in the current locale.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "input", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The string to parse.</div>" }, { "name" : "format", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The format string containing zero or more conversion specifications and ordinary characters. All ordinary characters are matched exactly with the buffer; all whitespace characters match any amount of whitespace in the buffer.</div>" } ], "returns" : { "type" : "xs:time", "description" : "Returns an xs:time." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_SPECIFICATION if $format contains an invalid conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INSUFFICIENT_BUFFER if $input is insufficient for $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_VALUE if $input contains an invalid value for a conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:LITERAL_MISMATCH if there is a literal characer mismatch between $input and $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INCOMPLETE_DATE_OR_TIME if the hour has not been parsed.</xqdoc:error>" ] }, { "arity" : 3, "name" : "parse-time", "qname" : "datetime:parse-time", "signature" : "($input as xs:string, $format as xs:string, $locale as xs:string) as xs:time external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Parses a time from a string in the given locale.</p>\n", "summary" : "<p>  Parses a time from a string in the given locale.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "input", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The string to parse.</div>" }, { "name" : "format", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The format string containing zero or more conversion specifications and ordinary characters. All ordinary characters are matched exactly with the buffer; all whitespace characters match any amount of whitespace in the buffer.</div>" }, { "name" : "locale", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The locale to use.</div>" } ], "returns" : { "type" : "xs:time", "description" : "Returns an xs:time." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_SPECIFICATION if $format contains an invalid conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INSUFFICIENT_BUFFER if $input is insufficient for $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_VALUE if $input contains an invalid value for a conversion specification.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:LITERAL_MISMATCH if there is a literal characer mismatch between $input and $format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INCOMPLETE_DATE_OR_TIME if the hour has not been parsed.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:INVALID_LOCALE if $locale is in an invalid format.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:UNKNOWN_LOCALE if $locale is unknown.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">datetime:UNSUPPORTED_LOCALE if $locale is unsupported by the operating system.</xqdoc:error>" ] }, { "arity" : 0, "name" : "timestamp", "qname" : "datetime:timestamp", "signature" : "() as xs:long external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Gets the the number of milliseconds since epoch.</p>\n", "summary" : "<p>  Gets the the number of milliseconds since epoch.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [  ], "returns" : { "type" : "xs:long", "description" : "the said number of milliseconds." }, "errors" : [  ] }, { "arity" : 0, "name" : "utc-offset", "qname" : "datetime:utc-offset", "signature" : "() as xs:long external", "description" : " <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Gets the offset of the current timezone from Universal time.</p>\n", "summary" : "<p>  Gets the offset of the current timezone from Universal time.</p>", "annotation_str" : " %an:nondeterministic", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "nondeterministic", "value" : "" } ], "updating" : false, "parameters" : [  ], "returns" : { "type" : "xs:long", "description" : "the offset in seconds with positive values being east of the prime meridian." }, "errors" : [  ] } ], "variables" : [  ] }