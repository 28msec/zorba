{ "ns" : "http://zorba.io/modules/store/documents", "description" : " This module defines a set of functions which manage documents that\n are persisted in the store. Specifically, it contains functions\n to put, remove, list, or retrieve documents.\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n Please refer to\n <a xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" href=\"http://zorba.io/documentation/latest/zorba/architecture/data_lifecycle\">our documentation</a>\n for more information about the lifecycle management and manipulation of\n documents.\n", "sees" : [ "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"><a href=\"http://zorba.io/documentation/latest/zorba/architecture/data_lifecycle\">Data Lifecycle</a></xqdoc:see>", "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">http://zorba.io/modules/latest/zorba.io/errors</xqdoc:see>" ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Matthias Brantner, David Graf, Till Westmann, Markos Zaharioudakis</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/modules/store/documents", "prefix" : "doc" }, { "uri" : "http://www.w3.org/2005/xqt-errors", "prefix" : "err" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" }, { "uri" : "http://zorba.io/errors", "prefix" : "zerr" } ], "functions" : [ { "arity" : 0, "name" : "available-documents", "qname" : "doc:available-documents", "signature" : "() as xs:string* external", "description" : " Retrieves a sequence of URIs of documents bound in the store.\n", "summary" : "<p> Retrieves a sequence of URIs of documents bound in the store.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [  ], "returns" : { "type" : "xs:string*", "description" : "The list of URIs of the available documents in the store or the empty sequence if none." }, "errors" : [  ] }, { "arity" : 1, "name" : "document", "qname" : "doc:document", "signature" : "($uri as xs:string) as document() external", "description" : " Gets the document with the given URI from the store.\n The difference to fn:doc is that this function does not attempt to retrieve\n the resource from the file system or the web before returning it.\n Its only responsibility is to return the document from the store that was\n bound using fn:put or doc:put.\n", "summary" : "<p> Gets the document with the given URI from the store.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "uri", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The URI of the document to retrieve. If a relative URI is given, the URI is made absolute using the static base URI of the module.</div>" } ], "returns" : { "type" : "document()", "description" : "Returns the document bound to the given URI." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZXQD0002 if no document with the given URI exists in the store.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">err:FODC0004 if the given URI is not valid or couldn't be made absolute.</xqdoc:error>" ] }, { "arity" : 1, "name" : "is-available-document", "qname" : "doc:is-available-document", "signature" : "($uri as xs:string) as xs:boolean external", "description" : " Returns true if a document with the given URI exists in the store.\n", "summary" : "<p> Returns true if a document with the given URI exists in the store.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "uri", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The URI of the document to check for. If a relative URI is given, the URI is made absolute using the static base URI of the module.</div>" } ], "returns" : { "type" : "xs:boolean", "description" : "Returns true if a document with the given URI exists in the store or false otherwise." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">err:FODC0004 if the given URI is not valid or couldn't be made absolute.</xqdoc:error>" ] }, { "arity" : 2, "name" : "put", "qname" : "doc:put", "signature" : "($uri as xs:string, $doc as document()) external", "description" : " Adds a document to the store.\n The document is bound to the URI given as first parameter.\n This URI is the name of the document and can be used by the\n <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">doc:document()</code> function to retrieve the document from the\n store.\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n The semantics of the function is similar to the <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">fn:put()</code>\n function.\n The difference is that this function accepts only document nodes as\n parameters.\n Please note that this function does not try to fetch the document from the\n external resource identified by the URI.\n Instead, the file or http-client modules can be used to retrieve the\n resource as string and <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">fn:parse-xml()</code> can be used to parse the\n string returning a document.\n", "summary" : "<p> Adds a document to the store.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "uri", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The URI of the document. If a relative URI is given, the URI is made absolute using the static base URI of the module.</div>" }, { "name" : "doc", "type" : "document()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The document node to be added to the store.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, when applied, adds the given document to the store." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZAPI0020 if the store already contains a document for the given URI.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">err:FODC0004 if the given URI is not valid or couldn't be made absolute.</xqdoc:error>" ] }, { "arity" : 1, "name" : "remove", "qname" : "doc:remove", "signature" : "($uri as xs:string) external", "description" : " Removes the document with the given URI from the store.\n", "summary" : "<p> Removes the document with the given URI from the store.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "uri", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The URI of the document to remove. If a relative URI is given, the URI is made absolute using the static base URI of the module.</div>" } ], "returns" : { "type" : null, "description" : "Returns an empty XDM instance and a pending update list that, when applied, removes the document bound to the given URI." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZXQD0002 if no document with the given URI exists in the store.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">err:FODC0004 if the given URI is not valid or couldn't be made absolute.</xqdoc:error>" ] } ], "variables" : [  ] }