{ "ns" : "http://zorba.io/modules/store/dynamic/collections/w3c/dml", "description" : " This modules provides a set of functions to modify a collection and retrieve\n the nodes contained in a particular collection.\n <p xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n Such collections are identified by a URI as defined in the XQuery\n specification.\n However, please note that we do not advice users to use collections\n identified by URIs.\n Instead, we refer to the\n <a xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" href=\"../zorba/data_lifecycle.html\">data lifecycle documentation</a>.\n It gives an overview of several ways to work with collections, documents,\n and other data-structures.\n", "sees" : [ "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"><a href=\"../zorba/data_lifecycle.html\">Data Lifecycle</a></xqdoc:see>", "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">http://zorba.io/modules/store/dynamic/collections/w3c/ddl</xqdoc:see>", "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">http://zorba.io/modules/store/dynamic/collections/ddl</xqdoc:see>", "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">http://zorba.io/modules/store/dynamic/collections/dml</xqdoc:see>", "<xqdoc:see xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">http://zorba.io/errors</xqdoc:see>" ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Matthias Brantner, David Graf, Till Westmann, Markos Zaharioudakis</xqdoc:author>" ], "version" : null, "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/annotations", "prefix" : "an" }, { "uri" : "http://zorba.io/modules/store/dynamic/collections/w3c/ddl", "prefix" : "ddl" }, { "uri" : "http://zorba.io/modules/store/dynamic/collections/w3c/dml", "prefix" : "dml" }, { "uri" : "http://zorba.io/modules/store/dynamic/collections/dml", "prefix" : "qdml" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" }, { "uri" : "http://zorba.io/errors", "prefix" : "zerr" } ], "functions" : [ { "arity" : 3, "name" : "apply-insert-nodes-after", "qname" : "dml:apply-insert-nodes-after", "signature" : "($name as xs:string, $pos as node(), $content as node()*) as node()*", "description" : " This function does the same as the <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">insert-nodes-after()</code>\n function except it immediately applies the resulting pending updates and\n returns the nodes that have been inserted.\n", "summary" : "<p> This function does the same as the  insert-nodes-after() \n function except it immediately applies the resulting pending updates and\n returns the nodes that have been inserted.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "pos", "type" : "node()", "occurence" : null, "description" : "" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequence of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : "node()*", "description" : "The sequence of nodes that have been inserted." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>" ] }, { "arity" : 3, "name" : "apply-insert-nodes-before", "qname" : "dml:apply-insert-nodes-before", "signature" : "($name as xs:string, $target as node(), $content as node()*) as node()*", "description" : " This function does the same as the <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">insert-nodes-before()</code>\n function except it immediately applies the resulting pending updates and\n returns the nodes that have been inserted.\n", "summary" : "<p> This function does the same as the  insert-nodes-before() \n function except it immediately applies the resulting pending updates and\n returns the nodes that have been inserted.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "target", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The node in the collection before which <code>$content</code> will be inserted.</div>" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequence of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : "node()*", "description" : "The sequence of nodes that have been inserted." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>" ] }, { "arity" : 2, "name" : "apply-insert-nodes-first", "qname" : "dml:apply-insert-nodes-first", "signature" : "($name as xs:string, $content as node()*) as node()*", "description" : " This function does the same as the <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">insert-nodes()</code> function\n except it immediately applies the resulting pending updates and returns the\n nodes that have been inserted.\n", "summary" : "<p> This function does the same as the  insert-nodes()  function\n except it immediately applies the resulting pending updates and returns the\n nodes that have been inserted.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequence of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : "node()*", "description" : "The sequence of nodes that have been inserted." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>" ] }, { "arity" : 2, "name" : "apply-insert-nodes-last", "qname" : "dml:apply-insert-nodes-last", "signature" : "($name as xs:string, $content as node()*) as node()*", "description" : " This function does the same as the <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">insert-nodes-last()</code> function\n except it immediately applies the resulting pending updates and returns the\n nodes that have been inserted.\n", "summary" : "<p> This function does the same as the  insert-nodes-last()  function\n except it immediately applies the resulting pending updates and returns the\n nodes that have been inserted.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequence of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : "node()*", "description" : "The sequence of nodes that have been inserted." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>" ] }, { "arity" : 1, "name" : "collection-name", "qname" : "dml:collection-name", "signature" : "($node as node()) as xs:string", "description" : " Gets the name of the collection the given node belongs to.\n", "summary" : "<p> Gets the name of the collection the given node belongs to.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "node", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The node for which to get the name of the collection.</div>" } ], "returns" : { "type" : "xs:string", "description" : "The URI of the collection to which <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">$node</code> belongs." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if <code>$node</code> does not belong to a collection.</xqdoc:error>" ] }, { "arity" : 1, "name" : "collection", "qname" : "dml:collection", "signature" : "($name as xs:string) as node()*", "description" : " Gets the sequence of nodes of the collection identified by the given name.\n", "summary" : "<p> Gets the sequence of nodes of the collection identified by the given name.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection.</div>" } ], "returns" : { "type" : "node()*", "description" : "The sequence contained in the given collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>" ] }, { "arity" : 1, "name" : "delete-node-first", "qname" : "dml:delete-node-first", "signature" : "($name as xs:string)", "description" : " Deletes the first node from a collection.\n", "summary" : "<p> Deletes the first node from a collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to delete from.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, deletes the first node from the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if the collection is empty.</xqdoc:error>" ] }, { "arity" : 1, "name" : "delete-node-last", "qname" : "dml:delete-node-last", "signature" : "($name as xs:string)", "description" : " Deletes the last node from a collection.\n", "summary" : "<p> Deletes the last node from a collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to delete from.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, deletes the last node from the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if the collection is empty.</xqdoc:error>" ] }, { "arity" : 2, "name" : "delete-nodes-first", "qname" : "dml:delete-nodes-first", "signature" : "($name as xs:string, $number as xs:integer)", "description" : " Deletes the first <i xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">N</i> nodes from a collection.\n", "summary" : "<p> Deletes the first  N  nodes from a collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to delete from.</div>" }, { "name" : "number", "type" : "xs:integer", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The number of nodes to delete.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, deletes the nodes from the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if the collection contains less than <code>$number</code> items.</xqdoc:error>" ] }, { "arity" : 2, "name" : "delete-nodes-last", "qname" : "dml:delete-nodes-last", "signature" : "($name as xs:string, $number as xs:integer)", "description" : " Deletes the last <i xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">N</i> nodes from a collection.\n", "summary" : "<p> Deletes the last  N  nodes from a collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to delete from.</div>" }, { "name" : "number", "type" : "xs:integer", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The number of nodes to delete.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, deletes the last n nodes." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if the collection contains less than <code>$number</code> items.</xqdoc:error>" ] }, { "arity" : 1, "name" : "delete-nodes", "qname" : "dml:delete-nodes", "signature" : "($nodes as node()*)", "description" : " Deletes nodes from a collection.\n", "summary" : "<p> Deletes nodes from a collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "nodes", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the nodes in the collection that should be deleted.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, deletes the nodes from their collections." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if any nodes are not a member of a collection or not all nodes of belong to the same collection.</xqdoc:error>" ] }, { "arity" : 1, "name" : "index-of", "qname" : "dml:index-of", "signature" : "($node as node()) as xs:integer", "description" : " Gets the index of the given node in the collection.\n", "summary" : "<p> Gets the index of the given node in the collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : false, "parameters" : [ { "name" : "node", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The node to get the index of.</div>" } ], "returns" : { "type" : "xs:integer", "description" : "Returns the position of <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">$node</code> in the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if <code>$node</code> is not contained in any collection.</xqdoc:error>" ] }, { "arity" : 3, "name" : "insert-nodes-after", "qname" : "dml:insert-nodes-after", "signature" : "($name as xs:string, $pos as node(), $content as node()*)", "description" : " Inserts copies of the given nodes into a collection at the position\n directly following the given target node.\n", "summary" : "<p> Inserts copies of the given nodes into a collection at the position\n directly following the given target node.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "pos", "type" : "node()", "occurence" : null, "description" : "" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequence of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, inserts the nodes into the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if <code>$target</code> node is not contained in the collection.</xqdoc:error>" ] }, { "arity" : 3, "name" : "insert-nodes-before", "qname" : "dml:insert-nodes-before", "signature" : "($name as xs:string, $target as node(), $content as node()*)", "description" : " Inserts copies of the given nodes into a collection at the position directly\n preceding the given target node.\n", "summary" : "<p> Inserts copies of the given nodes into a collection at the position directly\n preceding the given target node.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "target", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The node in the collection before which <code>$content</code> will be inserted.</div>" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequences of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, inserts the nodes into the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0011 if <code>$target</code> node is not contained in the collection.</xqdoc:error>" ] }, { "arity" : 2, "name" : "insert-nodes-first", "qname" : "dml:insert-nodes-first", "signature" : "($name as xs:string, $content as node()*)", "description" : " Inserts copies of the given nodes at the beginning of the collection.\n", "summary" : "<p> Inserts copies of the given nodes at the beginning of the collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequence of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, inserts <code xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">$content</code> into the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>" ] }, { "arity" : 2, "name" : "insert-nodes-last", "qname" : "dml:insert-nodes-last", "signature" : "($name as xs:string, $content as node()*)", "description" : " Inserts copies of the given nodes at the end of the collection.\n", "summary" : "<p> Inserts copies of the given nodes at the end of the collection.</p>", "annotation_str" : "", "annotations" : [  ], "updating" : true, "parameters" : [ { "name" : "name", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The name of the collection to insert into.</div>" }, { "name" : "content", "type" : "node()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> The sequence of nodes whose copies will be inserted.</div>" } ], "returns" : { "type" : null, "description" : "An empty XDM instance and a pending update list that, once applied, inserts the nodes into the collection." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">zerr:ZDDY0003 if the collection is not available.</xqdoc:error>" ] } ], "variables" : [  ] }