{ "ns" : "http://zorba.io/modules/oracle-nosqldb", "description" : " This module provides minimal functionality to interact with an\n <a xmlns:xqdoc=\"http://www.xqdoc.org/1.0\" href=\"http://www.oracle.com/technetwork/products/nosqldb/overview/index.html\">\n Oracle NoSQL Database</a>.\n Oracle NoSQL Database is built upon the proven Oracle Berkeley DB Java Edition\n high-availability storage engine, which is in widespread use in enterprises across\n industries. In addition to that it adds a layer of services for use in distributed environments.\n The resulting solution provides distributed, highly available key/value storage that is well\n suited to large-volume, latency-sensitive applications.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n The kvclient library is used to implement these functions. Set the NOSQLDB_HOME\n environment variable when compilling this module.\n <br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n <br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n <br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/><b xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Note:</b> Since this module has a Java library dependency a JVM required\n to be installed on the system. For Windows: jvm.dll is required on the system\n path ( usually located in \"C:\\Program Files\\Java\\jre6\\bin\\client\".\n", "sees" : [  ], "authors" : [ "<xqdoc:author xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">Cezar Andrei</xqdoc:author>" ], "version" : "3.0", "encoding" : "utf-8", "namespaces" : [ { "uri" : "http://zorba.io/annotations", "prefix" : "an" }, { "uri" : "http://zorba.io/modules/base64", "prefix" : "base64" }, { "uri" : "http://jsoniq.org/functions", "prefix" : "jn" }, { "uri" : "http://zorba.io/modules/oracle-nosqldb", "prefix" : "nosql" }, { "uri" : "http://zorba.io/options/versioning", "prefix" : "ver" } ], "functions" : [ { "arity" : 1, "name" : "connect", "qname" : "nosql:connect", "signature" : "($options as object()) as xs:anyURI", "description" : " Connect to a NoSQL Database KVStore\n", "summary" : "<p> Connect to a NoSQL Database KVStore\n</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "options", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> JSON object that contains \"store-name\" and \"helper-host-ports\". For example: <pre>{ \"store-name\" : \"kvstore\", \"helper-host-ports\" : [\"localhost:5000\"]}</pre></div>" } ], "returns" : { "type" : "xs:anyURI", "description" : "the function has side-effects and returns an identifier for a connection to the KVStore" }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 2, "name" : "delete", "qname" : "nosql:delete", "signature" : "($db as xs:anyURI, $key as xs:string) as xs:boolean", "description" : " Delete the key/value pair associated with the key.\n", "summary" : "<p> Delete the key/value pair associated with the key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair.</div>" } ], "returns" : { "type" : "xs:boolean", "description" : "true if the delete is successful, or false if no existing value is present." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 2, "name" : "get-binary", "qname" : "nosql:get-binary", "signature" : "($db as xs:anyURI, $key as object()) as object()? external", "description" : " Get the value as base64Binary and version associated with the key.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n Ex:  <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">{ \"value\":\"value as base64Binary\", \"version\":\"xs:long\" }</pre>\n", "summary" : "<p> Get the value as base64Binary and version associated with the key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair.</div>" } ], "returns" : { "type" : "object()?", "description" : "the value and version associated with the key, or empty sequence if no associated value was found." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 2, "name" : "get-text", "qname" : "nosql:get-text", "signature" : "($db as xs:anyURI, $key as object()) as object()?", "description" : " Get the value as string and version associated with the key.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n Ex:  <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">{ \"value\":\"value as string\", \"version\":\"xs:long\" }</pre>\n", "summary" : "<p> Get the value as string and version associated with the key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair.</div>" } ], "returns" : { "type" : "object()?", "description" : "the value and version associated with the key, or empty sequence if no associated value was found." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 2, "name" : "get", "qname" : "nosql:get", "signature" : "($db as xs:anyURI, $key as xs:string) as xs:string", "description" : " Get the value as string and version associated with the key.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n Ex:  <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">{ \"value\":\"value as string\", \"version\":\"xs:long\" }</pre>\n", "summary" : "<p> Get the value as string and version associated with the key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair.</div>" } ], "returns" : { "type" : "xs:string", "description" : "the value and version associated with the key, or empty sequence if no associated value was found." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 5, "name" : "multi-get-binary", "qname" : "nosql:multi-get-binary", "signature" : "($db as xs:anyURI, $parent-key as object(), $sub-range as object(), $depth as xs:string, $direction as xs:string) as object()* external", "description" : " Returns the descendant key/value pairs associated with the $parent-key.\n The $sub-range and $depth arguments can be used to further limit the\n key/value pairs that are retrieved. The key/value pairs are fetched within\n the scope of a single transaction that effectively provides serializable isolation.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n This API should be used with caution since it could result in an\n OutOfMemoryError, or excessive GC activity, if the results cannot all be held\n in memory at one time.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n This method only allows fetching key/value pairs that are descendants of a\n $parent-key that has a complete major path.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n Ex:  <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">{ \"value\":\"value as base64Binary\", \"version\":\"xs:long\" }</pre>\n", "summary" : "<p> Returns the descendant key/value pairs associated with the $parent-key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "parent-key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the parent key whose \"child\" KV pairs are to be fetched. It must not be null. The major key path must be complete. The minor key path may be omitted or may be a partial path.</div>" }, { "name" : "sub-range", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> further restricts the range under the $parent-key to the minor path components in this sub-range. It may be null.</div>" }, { "name" : "depth", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> specifies whether the parent and only children or all descendants are returned. Values are: CHILDREN_ONLY, DESCENDANTS_ONLY, PARENT_AND_CHILDREN, PARENT_AND_DESCENDANTS. If anything else PARENT_AND_DESCENDANTS is implied.</div>" }, { "name" : "direction", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> FORWARD or REVERSE. Specify the order of results, REVERSE for reverse or anything else for forward.</div>" } ], "returns" : { "type" : "object()*", "description" : "a list of objects containing key, value as base64Binary and version or empty sequence if no key was found." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoKeyRange If $sub-range is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyRange If $sub-range is invalid.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 5, "name" : "multi-get-text", "qname" : "nosql:multi-get-text", "signature" : "($db as xs:anyURI, $parent-key as object(), $sub-range as object(), $depth as xs:string, $direction as xs:string) as object()*", "description" : " Returns the descendant key/value pairs associated with the $parent-key.\n The $sub-range and $depth arguments can be used to further limit the\n key/value pairs that are retrieved. The key/value pairs are fetched within\n the scope of a single transaction that effectively provides serializable isolation.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n This API should be used with caution since it could result in an\n OutOfMemoryError, or excessive GC activity, if the results cannot all be held\n in memory at one time.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n This method only allows fetching key/value pairs that are descendants of a\n $parent-key that has a complete major path.<br xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"/>\n Ex:  <pre xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">{ \"value\":\"value as base64Binary\", \"version\":\"xs:long\" }</pre>\n", "summary" : "<p> Returns the descendant key/value pairs associated with the $parent-key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "parent-key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the parent key whose \"child\" KV pairs are to be fetched. It must not be null. The major key path must be complete. The minor key path may be omitted or may be a partial path.</div>" }, { "name" : "sub-range", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> further restricts the range under the $parent-key to the minor path components in this sub-range. It may be null.</div>" }, { "name" : "depth", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> specifies whether the parent and only children or all descendants are returned. Values are: CHILDREN_ONLY, DESCENDANTS_ONLY, PARENT_AND_CHILDREN, PARENT_AND_DESCENDANTS. If anything else PARENT_AND_DESCENDANTS is implied.</div>" }, { "name" : "direction", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> FORWARD or REVERSE. Specify the order of results, REVERSE for reverse or anything else for forward.</div>" } ], "returns" : { "type" : "object()*", "description" : "a list of objects containing key, value as string and version or empty sequence if no key was found." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoKeyRange If $sub-range is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyRange If $sub-range is invalid.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 4, "name" : "multi-remove", "qname" : "nosql:multi-remove", "signature" : "($db as xs:anyURI, $parent-key as object(), $sub-range as object(), $depth as xs:string) as xs:int external", "description" : " Removes the descendant Key/Value pairs associated with the $parent-key. The\n $sub-range and $depth arguments can be used to further limit the key/value\n pairs that are deleted.\n", "summary" : "<p> Removes the descendant Key/Value pairs associated with the $parent-key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "parent-key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the parent key whose \"child\" KV pairs are to be fetched. It must not be null. The major key path must be complete. The minor key path may be omitted or may be a partial path.</div>" }, { "name" : "sub-range", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> further restricts the range under the $parent-key to the minor path components in this sub-range. It may be null. There are two ways to specify a sub-range: - by prefix: <code>{ \"prefix\" : \"a\" }</code> or by start-end: <code>{\"start\": \"a\", \"start-inclusive\": true, \"end\" : \"z\", \"end-inclusive\": true}</code>. For this case start-inclusive and end-inclusive are optional and they default to true.</div>" }, { "name" : "depth", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> specifies whether the parent and only children or all descendants are returned. Values are: CHILDREN_ONLY, DESCENDANTS_ONLY, PARENT_AND_CHILDREN, PARENT_AND_DESCENDANTS. If null, PARENT_AND_DESCENDANTS is implied.</div>" } ], "returns" : { "type" : "xs:int", "description" : "the count of deleted keys." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoKeyRange If $sub-range is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyRange If $sub-range is invalid.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 3, "name" : "put-binary", "qname" : "nosql:put-binary", "signature" : "($db as xs:anyURI, $key as object(), $value as xs:base64Binary) as xs:long external", "description" : " Put a key/value pair, inserting or overwriting as appropriate.\n", "summary" : "<p> Put a key/value pair, inserting or overwriting as appropriate.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair. <pre>{ \"major\": [\"major-key1\",\"major-key2\",\"major-key3\"], \"minor\": [\"minor-key1\",\"minor-key2\",\"minor-key3\"] }</pre></div>" }, { "name" : "value", "type" : "xs:base64Binary", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the value part of the key/value pair as base64Binary.</div>" } ], "returns" : { "type" : "xs:long", "description" : "the version of the new value." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 3, "name" : "put-text", "qname" : "nosql:put-text", "signature" : "($db as xs:anyURI, $key as object(), $string-value as xs:string) as xs:long", "description" : " Put a key/value pair, inserting or overwriting as appropriate.\n", "summary" : "<p> Put a key/value pair, inserting or overwriting as appropriate.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair. <pre>{ \"major\": [\"major-key1\",\"major-key2\",\"major-key3\"], \"minor\": [\"minor-key1\",\"minor-key2\",\"minor-key3\"] }</pre></div>" }, { "name" : "string-value", "type" : "xs:string", "occurence" : null, "description" : "" } ], "returns" : { "type" : "xs:long", "description" : "the version of the new value." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 3, "name" : "put", "qname" : "nosql:put", "signature" : "($db as xs:anyURI, $key as xs:string, $value as xs:string) as xs:long", "description" : " Put a key/value pair, inserting or overwriting as appropriate.\n", "summary" : "<p> Put a key/value pair, inserting or overwriting as appropriate.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair.</div>" }, { "name" : "value", "type" : "xs:string", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the value part of the key/value pair as string.</div>" } ], "returns" : { "type" : "xs:long", "description" : "the version of the new value." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] }, { "arity" : 2, "name" : "remove", "qname" : "nosql:remove", "signature" : "($db as xs:anyURI, $key as object()) as xs:boolean external", "description" : " Removes the key/value pair associated with the key.\n", "summary" : "<p> Removes the key/value pair associated with the key.</p>", "annotation_str" : " %an:sequential", "annotations" : [ { "prefix" : "an", "ns" : "http://zorba.io/annotations", "name" : "sequential", "value" : "" } ], "updating" : false, "parameters" : [ { "name" : "db", "type" : "xs:anyURI", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the KVStore reference</div>" }, { "name" : "key", "type" : "object()", "occurence" : null, "description" : "<div xmlns:xqdoc=\"http://www.xqdoc.org/1.0\"> the key used to look up the key/value pair.</div>" } ], "returns" : { "type" : "xs:boolean", "description" : "true if the remove is successful, or false if no existing value is present." }, "errors" : [ "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoInstanceMatch If the $db parameter does not correspond to a valid connection.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidKeyParam If the $key parameter is not a JSON object.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:NoMajorKeyComponent If $key doesn't contain a major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMajorKeyComponent If $key contains an invalid major key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:InvalidMinorKeyComponent If $key contains an invalid minor key component.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:VM001 If the JVM cannot be initialized correctly.</xqdoc:error>", "<xqdoc:error xmlns:xqdoc=\"http://www.xqdoc.org/1.0\">nosql:JAVA-EXCEPTION If a java exception is thrown.</xqdoc:error>" ] } ], "variables" : [ { "name" : "nosql:depth-CHILDREN_ONLY", "type" : "xs:string", "description" : " The CHILDREN_ONLY depth.\n" }, { "name" : "nosql:depth-DESCENDANTS_ONLY", "type" : "xs:string", "description" : " The DESCENDANTS_ONLY depth.\n" }, { "name" : "nosql:depth-PARENT_AND_CHILDREN", "type" : "xs:string", "description" : " The PARENT_AND_CHILDREN depth.\n" }, { "name" : "nosql:depth-PARENT_AND_DESCENDANTS", "type" : "xs:string", "description" : " The PARENT_AND_DESCENDANTS depth.\n" }, { "name" : "nosql:direction-REVERSE", "type" : "xs:string", "description" : " The REVERSE direction.\n" }, { "name" : "nosql:direction-FORWARD", "type" : "xs:string", "description" : " The FORWARD direction.\n" } ] }